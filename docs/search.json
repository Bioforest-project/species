[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "species",
    "section": "",
    "text": "Introduction\nspecies is a sub-project of the BioForest project aimed at species related data (correct names, functional traits, phylogeny) as part of the data preparation for data preparation within the project."
  },
  {
    "objectID": "index.html#usage",
    "href": "index.html#usage",
    "title": "species",
    "section": "Usage",
    "text": "Usage\nAll species analyses rely on the quarto documents (files.qmd) that can be run with R and associated environment defined with renv."
  },
  {
    "objectID": "index.html#project",
    "href": "index.html#project",
    "title": "species",
    "section": "Project",
    "text": "Project\nenvironment includes:\n\nAnalyse of the data with associated documentation and figures:\n\nReproductive analyses in files.qmd\nResulting pages in docs/\nDocument structure definition in _quarto.yml\n\nData in data/\nIntermediary files in outputs/\nR environment definition with renv in renv/ and renv/lock\nR files (.Rbuildignore , .Rdata , .Rprofile , .Rhistory)\nGit and GitHub files (.gitignore , .github/)\nProject documentation (README.qmd , README.md , NEWS.md )\n\n\nShould we add a license?"
  },
  {
    "objectID": "index.html#contribution",
    "href": "index.html#contribution",
    "title": "species",
    "section": "Contribution",
    "text": "Contribution\nYou can contribute to the project by forking the repository on github and cloning the fork to your machine using several options, including GitHub desktop GUI. Further informations on contribution are detailed in the online document: https://bioforest-project.github.io/data_preparation/98_contributing.html."
  },
  {
    "objectID": "index.html#help",
    "href": "index.html#help",
    "title": "species",
    "section": "Help",
    "text": "Help\nPlease preferentially create an issue on GitHub for any questions, bugs or help needed regarding species: https://github.com/Bioforest-project/species/issues . You may however reach us by mail with people from the core group (see below)."
  },
  {
    "objectID": "index.html#core-group",
    "href": "index.html#core-group",
    "title": "species",
    "section": "Core group",
    "text": "Core group\n\nSylvain Schmitt (sylvain.schmitt@cirad.fr)\nCamille Piponiot-Laroche (camille.piponiot-laroche@cirad.fr)\nGéraldine Derroire (geraldine.derroire@cirad.fr)\nMithila Unkule (mithila.unkule@fondationbiodiversite.fr)\nIrié Cazimir Zo-Bi (iczobi@gmail.com)\nAnand Roopsind (aroopsind@gmail.com)\n\nThe whole group consist of participants to the Bioforest project."
  },
  {
    "objectID": "10_analyses.html",
    "href": "10_analyses.html",
    "title": "Analyses",
    "section": "",
    "text": "We removed Moju because all taxonomic information is currently contained in the vernacular column and Mbaiki because only the scientific column as taxonomic information. Both should be cleaned before integration.\n\n\nCode\ntaxo &lt;- read_tsv(\"data/raw_data/raw_taxonomy.tsv\") %&gt;% \n  rename_all(tolower) %&gt;% \n  filter(!(site %in% c(\"Moju\", \"Mbaiki\")))\n\n\nWe had data for several sites with a varying number of family, genus, species and vernacular names:\n\n\nCode\ntaxo %&gt;% select(site) %&gt;% unique() %&gt;% summarise(sites = n()) %&gt;% kable()\n\n\n\n\n\nsites\n\n\n\n\n14\n\n\n\n\n\nIn which we had a varying number of family, genus , and species:\n\n\nCode\ntaxo %&gt;% \n  group_by(site) %&gt;% \n  summarise(family = length(unique(family)),\n            genus = length(unique(genus)),\n            species = length(unique(paste(genus, species))),\n            scientificname = length(unique(scientificname)),\n            vernname = length(unique(vernname))) %&gt;% kable()\n\n\n\n\n\nsite\nfamily\ngenus\nspecies\nscientificname\nvernname\n\n\n\n\nBafog\n58\n196\n258\n385\n211\n\n\nKabo\n53\n155\n197\n270\n1\n\n\nKibale\n1\n21\n19\n125\n1\n\n\nLesong\n46\n20\n19\n161\n1\n\n\nMalinau\n69\n174\n324\n670\n1\n\n\nManare\n50\n142\n212\n276\n197\n\n\nMisiones\n42\n23\n123\n123\n1\n\n\nMontagne_Tortue\n50\n153\n217\n298\n201\n\n\nParacou\n64\n256\n463\n762\n247\n\n\nPeteco\n1\n18\n13\n345\n345\n\n\nSg Lalang\n53\n19\n21\n170\n1\n\n\nTene\n50\n147\n166\n200\n209\n\n\nUlu Muda\n54\n20\n20\n179\n1\n\n\nUppangala\n43\n101\n115\n130\n1\n\n\n\n\n\nIn total this resulted in 2,947 scientific names:\n\n\nCode\ntaxo %&gt;% \n  summarise(family = length(unique(family)),\n            genus = length(unique(genus)),\n            species = length(unique(paste(genus, species))),\n            scientificname = length(unique(scientificname)),\n            vernname = length(unique(vernname))) %&gt;% kable()\n\n\n\n\n\nfamily\ngenus\nspecies\nscientificname\nvernname\n\n\n\n\n160\n664\n1288\n2947\n852\n\n\n\n\n\n\n\nCode\ntaxo2 &lt;- taxo %&gt;% \n  select(scientificname) %&gt;% \n  separate(scientificname, c(\"genus\", \"species\"), remove = FALSE) %&gt;% \n  mutate(species = gsub(\" \", \"\", species)) %&gt;% \n  mutate(genus = gsub(\" \", \"\", genus)) %&gt;% \n  unique()\n\n\n\n\nCode\nspecies &lt;- taxo2$species %&gt;% unique() %&gt;% sort()\nspecies[grepl(\"sp\", species)]\n\n\n\n\nCode\ntaxo2 %&gt;% \n  summarise(\"NA - genus\" = sum(is.na(genus)),\n            \"NA - species\" = sum(is.na(species)),\n            \"empty - species\" = sum(species == \"\", na.rm = T),\n            \"length&lt;2 - species\" = sum(str_length(species) &lt; 2, na.rm = T),\n            \"empty - genus\" = sum(genus == \"\", na.rm = T),\n            \"length&lt;2 - genus\" = sum(str_length(genus) &lt; 2, na.rm = T),\n            \"Indet,Indet. - species\" = sum((species %in% c(\"Indet\", \"Indet.\"))\n                                           , na.rm = T),\n            \"sp,spp - species\" = sum((species %in% c(\"sp\", \"spp\")), na.rm = T))%&gt;% \n  gather() %&gt;% \n  separate(key, c(\"condition\", \"level\"), \" - \") %&gt;% \n  pivot_wider(names_from = level, values_from = value) %&gt;% \n  kable()\n\n\n\n\n\ncondition\ngenus\nspecies\n\n\n\n\nNA\n1\n108\n\n\nempty\n2\n1\n\n\nlength&lt;2\n5\n15\n\n\nIndet,Indet.\nNA\n134\n\n\nsp,spp\nNA\n261\n\n\n\n\n\n\n\nCode\ntaxo3 &lt;- taxo2 %&gt;% \n  filter(!is.na(genus), !is.na(species),\n         str_length(genus) &gt; 1, str_length(species) &gt; 1) %&gt;% \n  mutate(species = recode(species, \"sp\" = \"spp\", \"sp\" = \"Indet\", sp = \"Indet.\")) %&gt;% \n  unique() %&gt;% \n  mutate(scientificname = paste(genus, species)) %&gt;% \n  head(n = 10)\n\n\n\n\nCode\ncleaned &lt;- WFO.match.fuzzyjoin(spec.data = taxo3$scientificname,\n                               WFO.file = \"data/raw_data/WFO_Backbone.zip\")\nwrite_tsv(cleaned, \"data/derived_data/cleaned.tsv\")\n\n\n\n\nCode\ncleaned &lt;- read_tsv(\"data/derived_data/cleaned.tsv\")\ncleaned %&gt;% \n  select(spec.name, Matched, family, genus, specificEpithet) %&gt;% \n  kable()\n\n\n\n\n\n\n\n\n\n\n\n\nspec.name\nMatched\nfamily\ngenus\nspecificEpithet\n\n\n\n\nTapirira guianensis\nTRUE\nAnacardiaceae\nTapirira\nguianensis\n\n\nIndet Moraceae\nFALSE\nNA\nNA\nNA\n\n\nBrosimum rubescens\nTRUE\nMoraceae\nBrosimum\nrubescens\n\n\nEschweilera Indet\nTRUE\nLecythidaceae\nEschweilera\nneei\n\n\nEperua Indet\nFALSE\nNA\nNA\nNA\n\n\nPterocarpus Indet\nTRUE\nFabaceae\nPterocarpus\nindicus\n\n\nPterocarpus Indet\nTRUE\nFabaceae\nPterocarpus\namazonum\n\n\nPterocarpus Indet\nTRUE\nFabaceae\nDalbergia\nnigra\n\n\nCouepia guianensis\nTRUE\nChrysobalanaceae\nCouepia\nguianensis\n\n\nTerminalia amazonia\nTRUE\nCombretaceae\nTerminalia\namazonia\n\n\nMiconia lepidota\nTRUE\nMelastomataceae\nMiconia\nlepidota\n\n\nMiconia lepidota\nTRUE\nMelastomataceae\nMiconia\nkapplerii\n\n\nAbarema jupunba\nTRUE\nFabaceae\nJupunba\ntrapezifolia\n\n\n\n\n\nOptions for cleaning taxonomy:\n\nworldflora\nplantR\nU.Taxonstand\ntaxlist\nbdclean"
  }
]