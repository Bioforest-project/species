[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "species",
    "section": "",
    "text": "Introduction\nspecies is a sub-project of the BioForest project aimed at species related data (correct names, functional traits, phylogeny) as part of the data preparation for data preparation within the project."
  },
  {
    "objectID": "index.html#usage",
    "href": "index.html#usage",
    "title": "species",
    "section": "Usage",
    "text": "Usage\nAll species analyses rely on the quarto documents (files.qmd) that can be run with R and associated environment defined with renv."
  },
  {
    "objectID": "index.html#project",
    "href": "index.html#project",
    "title": "species",
    "section": "Project",
    "text": "Project\nspecies includes:\n\nAnalyse of the data with associated documentation and figures:\n\nReproductive analyses in files.qmd\nResulting pages in docs/\nDocument structure definition in _quarto.yml\n\nData in data/ with:\n\nAll raw data in raw_data/\nAll derived data in derived_sata/\n\nR scripts with funtions in r/\nIntermediary files in outputs/\nFigures in figures/\nR environment definition with renv in renv/ and renv/lock\nR files (.Rbuildignore , .Rdata , .Rprofile , .Rhistory, .lintr)\nGit and GitHub files (.gitignore , .github/)\nProject documentation (README.qmd , README.md , NEWS.md, LICENSE )"
  },
  {
    "objectID": "index.html#contribution",
    "href": "index.html#contribution",
    "title": "species",
    "section": "Contribution",
    "text": "Contribution\nYou can contribute to the project by forking the repository on github and cloning the fork to your machine using several options, including GitHub desktop GUI. Further informations on contribution are detailed in the online document: https://bioforest-project.github.io/data_preparation/98_contributing.html."
  },
  {
    "objectID": "index.html#help",
    "href": "index.html#help",
    "title": "species",
    "section": "Help",
    "text": "Help\nPlease preferentially create an issue on GitHub for any questions, bugs or help needed regarding species: https://github.com/Bioforest-project/species/issues . You may however reach us by mail with people from the core group (see below)."
  },
  {
    "objectID": "index.html#core-group",
    "href": "index.html#core-group",
    "title": "species",
    "section": "Core group",
    "text": "Core group\n\nSylvain Schmitt (sylvain.schmitt@cirad.fr)\nCamille Piponiot-Laroche (camille.piponiot-laroche@cirad.fr)\nGéraldine Derroire (geraldine.derroire@cirad.fr)\nMithila Unkule (mithila.unkule@fondationbiodiversite.fr)\nIrié Cazimir Zo-Bi (iczobi@gmail.com)\nAnand Roopsind (aroopsind@gmail.com)\n\nThe whole group consist of participants to the Bioforest project."
  },
  {
    "objectID": "11_raw.html#taxonomy-preparation",
    "href": "11_raw.html#taxonomy-preparation",
    "title": "Raw",
    "section": "Taxonomy preparation",
    "text": "Taxonomy preparation\nTaxonomic information for Moju and Peteco was only contained in the vernacular column, while similarly taxonomic information for Kibale, Lesong, Mbaiki, Misiones, Ulu Muda, Sg Lalang was only contained in the scientific column. We thus smoothed all taxonomic information with five columns: scientific, vernacular, family, genus, species (derived_data/raw_taxo_preped_v2.tsv).\n\n\nCode\ntaxo_easy &lt;- read_tsv(\"data/raw_data/raw_taxonomy_v1.tsv\") %&gt;%\n  rename_all(tolower) %&gt;%\n  filter(!(site %in% c(\n    \"Kibale\", \"Lesong\", \"Moju\", \"Mbaiki\", \"Peteco\",\n    \"Misiones\", \"Ulu Muda\", \"Sg Lalang\"\n  )))\ntaxo_vernacular_only &lt;- read_tsv(\"data/raw_data/raw_taxonomy_v1.tsv\") %&gt;%\n  rename_all(tolower) %&gt;%\n  filter(site %in% c(\"Moju\", \"Peteco\")) %&gt;%\n  separate(vernname, c(\"vernname\", \"scientificname\"), sep = \"\\\\[\") %&gt;%\n  separate(vernname, \"vernname\", sep = \"\\\\/\") %&gt;%\n  mutate(scientificname = gsub(\"]\", \"\", scientificname)) %&gt;%\n  separate(scientificname, c(\"genus\", \"species\"), remove = FALSE)\ntaxo_scientific_only &lt;- read_tsv(\"data/raw_data/raw_taxonomy_v1.tsv\") %&gt;%\n  rename_all(tolower) %&gt;%\n  filter(site %in% c(\n    \"Kibale\", \"Lesong\", \"Mbaiki\",\n    \"Misiones\", \"Ulu Muda\", \"Sg Lalang\"\n  )) %&gt;%\n  separate(scientificname, c(\"genus\", \"species\"), remove = FALSE)\ntaxo &lt;- bind_rows(taxo_easy, taxo_vernacular_only, taxo_scientific_only) %&gt;%\n  rename(scientific = scientificname, vernacular = vernname)\nwrite_tsv(taxo, \"data/derived_data/raw_taxo_preped_v2.tsv\")"
  },
  {
    "objectID": "11_raw.html#all",
    "href": "11_raw.html#all",
    "title": "Raw",
    "section": "All",
    "text": "All\nWe had data for 16 sites with 0 to 68 families, with 49 to 301 genera, and with 123 to 762 species corresponding to 0 to 364 vernacular names when registered:\n\n\nCode\ntaxo %&gt;%\n  group_by(site) %&gt;%\n  summarise(\n    family = length(unique(na.omit(family))),\n    genus = length(unique(na.omit(genus))),\n    species = length(unique(paste(genus, species))),\n    scientific = length(unique(na.omit(scientific))),\n    vernacular = length(unique(na.omit(vernacular)))\n  ) %&gt;%\n  kable(caption = \"Numbers per taxonomic levels for each site.\")\n\n\n\nNumbers per taxonomic levels for each site.\n\n\nsite\nfamily\ngenus\nspecies\nscientific\nvernacular\n\n\n\n\nBafog\n58\n196\n258\n385\n211\n\n\nKabo\n53\n154\n197\n270\n0\n\n\nKibale\n0\n104\n69\n124\n0\n\n\nLesong\n46\n113\n81\n161\n0\n\n\nMalinau\n68\n174\n324\n670\n0\n\n\nManare\n50\n142\n212\n276\n197\n\n\nMbaiki\n0\n200\n302\n379\n221\n\n\nMisiones\n42\n94\n115\n123\n0\n\n\nMoju\n0\n166\n276\n398\n364\n\n\nMontagne_Tortue\n50\n153\n217\n298\n201\n\n\nParacou\n64\n256\n463\n762\n247\n\n\nPeteco\n0\n165\n247\n340\n295\n\n\nSg Lalang\n52\n115\n76\n170\n0\n\n\nTene\n49\n146\n166\n200\n208\n\n\nUlu Muda\n53\n112\n50\n179\n0\n\n\nUppangala\n43\n101\n115\n130\n0\n\n\n\n\n\nIn total, we thus add 1,611 species before cleaning:\n\n\nCode\ntaxo %&gt;%\n  summarise(\n    family = length(unique(na.omit(family))),\n    genus = length(unique(na.omit(genus))),\n    species = length(unique(paste(genus, species))),\n    scientific = length(unique(na.omit(scientific))),\n    vernacular = length(unique(na.omit(vernacular)))\n  ) %&gt;%\n  kable(\n    format.args = list(big.mark = \",\"),\n    caption = \"Total numbers per taxonomic levels.\"\n  )\n\n\n\nTotal numbers per taxonomic levels.\n\n\nfamily\ngenus\nspecies\nscientific\nvernacular\n\n\n\n\n159\n926\n1,611\n3,544\n1,306\n\n\n\n\n\nSpecies name construction using genus and species should be preferred as the scientific name column increases diversity with only slight differences:\n\n\nCode\ntaxo %&gt;%\n  mutate(species = paste(genus, species)) %&gt;%\n  select(species, scientific) %&gt;%\n  unique() %&gt;%\n  group_by(species) %&gt;%\n  mutate(N = n()) %&gt;%\n  ungroup() %&gt;%\n  filter(N == 12) %&gt;%\n  kable(caption = \"Example of multiple scientific names for one species genus pair.\") # nolint\n\n\n\nExample of multiple scientific names for one species genus pair.\n\n\nspecies\nscientific\nN\n\n\n\n\nShorea parvifolia\nShorea parvifolia Dyer\n12\n\n\nShorea parvifolia\nShorea parvifolia Dyer ssp. parvifolia\n12\n\n\nShorea parvifolia\nShorea parvifolia Dyer ssp.parvifolia\n12\n\n\nShorea parvifolia\nShorea parvifolia Dyer ssp. velutina\n12\n\n\nShorea parvifolia\nShorea parvifolia Dyer.\n12\n\n\nShorea parvifolia\nShorea parvifolia Dter\n12\n\n\nShorea parvifolia\nShorea parvifolia Dyer ssp. Parvifolia\n12\n\n\nShorea parvifolia\nShorea parvifolia Warb.\n12\n\n\nShorea parvifolia\nShorea parvifolia Dyer ssp parvifolia\n12\n\n\nShorea parvifolia\nShorea parvifolia Dyr ssp parvifolia\n12\n\n\nShorea parvifolia\nShorea parvifolia Dyr\n12\n\n\nShorea parvifolia\nShorea parvifolia\n12\n\n\n\n\n\n\n\nCode\ntaxo %&gt;%\n  mutate(species = paste(genus, species)) %&gt;%\n  select(species, scientific) %&gt;%\n  unique() %&gt;%\n  group_by(species) %&gt;%\n  summarise(N = n()) %&gt;%\n  filter(N &gt; 1) %&gt;%\n  ggplot(aes(N)) +\n  geom_histogram() +\n  theme_bw() +\n  scale_y_sqrt() +\n  scale_x_sqrt() +\n  xlab(\"Scientific names per genus species pairs\") +\n  ylab(\"\")\n\n\n\n\n\nScientific names per genus species pairs."
  },
  {
    "objectID": "11_raw.html#family",
    "href": "11_raw.html#family",
    "title": "Raw",
    "section": "Family",
    "text": "Family\nFamilies includes the following dubious names:\n\nMissing: #N/A, +, muerto\nUnidentified: Indet., Not in DB, unid., unidentified, ND, No determinado\n\nSee the list below:\n\n\nCode\nunique(taxo$family) %&gt;%\n  sort() %&gt;%\n  paste0(collapse = \", \")\n\n\n[1] \" Rubiaceae, #N/A, +, Acanthaceae, Achariaceae, Achatocarpaceae, Alangiaceae, Anacardiaceae, Anarcadiaceae, Anarcardiaceae, Annonaceae, Anonaceae, Apocynaceae, Aponyceae, Aquifoliaceae, Araceae, Araliaceae, Araucariaceae, Areacaceae, Arecaceae, Asparagaceae, Bignoniaceae, Bixaceae, Bombacaceae, Boraginaceae, Burseraceae, Calophyllaceae, Cannabaceae, Capparaceae, Cardiopteridaceae, Caricaceae, Carnaraceae, Caryocaraceae, Celastraceae, Chrysobalanaceae, Cluciaceae, Clusiaceae, Combretaceae, Compositae, Connaraceae, Convolvulaceae, Cordiaceae, Cornaceae, Crypteroniaceae, Dichapetalaceae, Dilleniaceae, Dipterocarpaceae, Dipterocarpus, Diptewrocarpaceae, Ebenaceae, Elaeocarpaceae, Erythroxylaceae, Euphobiaceae, Euphorbiaceae, Euphorbuaceae, Fabaceae, Fagaceae, Flacourtiaceae, Gentianaceae, Gnetaceae, Goupiaceae, Greyiaceae, Humiriaceae, Hypericaceae, Icacinaceae, Indet., Irvingiaceae, Ixonanthaceae, Lacistemataceae, Lamiaceae, Lauracea, Lauraceae, Lecythidaceae, Leguminosae, Linaceae, Loganiaceae, Lythraceae, Malpighiaceae, Malvacea, Malvaceae, Melastomaceae, Melastomataceae, Meliaceae, Memecyclaceae, Metteniusaceae, Monimiaceae, Moraceae, muerto, Myristicacea, Myristicaceae, Myrtaceae, Mytaceae, ND, No determinado, Not in DB, Nyctaginaceae, Nyssaceae, Ocalaceae, Ochnaceae, Olacaceae, Oleaceae, Opiliaceae, Oxalidaceae, Oxalidales, Pandaceae, Pentaphylacaceae, Peraceae, Peridiscaceae, Phyllanthaceae, Phytolaccaceae, Picrodendraceae, Podocarpaceae, Polygalaceae, Polygonaceae, Primulaceae, Proteaceae, Putranjavaceae, Putranjivaceae, Quiinaceae, Rhabdodendraceae, Rhamnaceae, Rhizophoracea, Rhizophoraceae, Rosaceae, Rubiacea, Rubiaceae, Rutacea, Rutaceae, Sabiaceae, Salicaceae, Santalaceae, Saoindaceae, Sapindaceae, Sapotaceae, Saxipragaceae, Simaroubaceae, Simarubaceae, Siparunaceae, Solanaceae, Staphyleaceae, Stemonuraceae, Sterculiaceae, Styracaceae, Symplocaceae, Tetrameristaceae, Theacea, Theaceae, Thymelaceae, Thymelaeaceae, Thymelaeceae, Tiliaceae, Ulmaceae, unid., unidentified, Urticaceae, Verbenaceae, Violaceae, Vitaceae, Vochysiaceae\"\n\n\nWith the following counts:\n\n\nCode\nunid &lt;- c(\n  \"Indet.\", \"Not in DB\", \"unid.\",\n  \"unidentified\", \"ND\", \"No determinado\"\n)\nmissing &lt;- c(\"#N/A\", \"+\", \"muerto\")\ntaxo %&gt;%\n  select(family) %&gt;%\n  unique() %&gt;%\n  summarise(\n    \"Unidentified\" = sum(family %in% unid,\n      na.omit = TRUE\n    ),\n    \"Missing\" = sum(family %in% missing,\n      na.omit = TRUE\n    )\n  ) %&gt;%\n  gather(\"type\", \"number\") %&gt;%\n  kable(caption = \"Number of family by issue type.\")\n\n\n\nNumber of family by issue type.\n\n\ntype\nnumber\n\n\n\n\nUnidentified\n7\n\n\nMissing\n4"
  },
  {
    "objectID": "11_raw.html#genus",
    "href": "11_raw.html#genus",
    "title": "Raw",
    "section": "Genus",
    "text": "Genus\nGenera includes the following dubious names:\n\nMissing: #N/A, A\nUnidentified: Indet., nd, sp, sp1, sp5, Indetermined, KERUING, MERANTI, MERSAWA, BALAU, muerto\nFamily-only: Indet.Apocynaceae, Indet.Arecaceae, Indet.Bignoniaceae, Indet.Burseraceae, Indet.Capparaceae, Indet.Chrysobalanaceae, Indet.Clusiaceae, Indet.Combretaceae, Indet.Dichapetalaceae, Indet.Euphorbiaceae, Indet.Fabaceae, Indet.FabaceaeCaesalpinioideae(mimosoid_clade), Indet.FabaceaePapilionoideae, Indet.Humiriaceae, Indet.Indet., Indet.Lamiaceae, Indet.Lauraceae, Indet.Lecythidaceae, Indet.Malvaceae, Indet.MalvaceaeBombacoideae, Indet.Melastomataceae, Indet.Moraceae, Indet.Myrtaceae, Indet.Nyctaginaceae, Indet.Olacaceae, Indet.Rubiaceae, Indet.Salicaceae, Indet.Sapindaceae, Indet.Sapotaceae, Indet.Urticaceae, Indet.Violaceae, Indet.Vochysiaceae, Indet.Anacardiaceae, Indet.Annonaceae\n\nSee the list below:\n\n\nCode\nunique(taxo$genus) %&gt;%\n  sort() %&gt;%\n  paste0(collapse = \", \")\n\n\n[1] \", #N/A, Abarema, Acacia, Achatocarpus, Acrocarpus, Actinodaphne, Actinostemon, Adenathera, Adinandra, Afrostyrax, Afzelia, Agathis, Aglaia, Agonandra, Agrostachys, Agrostistachys, Aidia, Aiouea, Alangium, Albizia, Albizzia, Alchornea, Alchorneopsis, Alexa, Allanblackia, Allophylus, Alseodaphne, Alstonia, Amaioua, Amanoa, Ambelania, Amoora, Ampelocera, Amphimas, Amphiodon, Amphirrhox, Anacardium, Anaxagorea, Andira, Angylocalyx, Aniba, Aningeria, Anisoptera, Annickia, Annona, Annonaceae, Anogeissus, Anonidium, Anopyxis, Anthocleista, Anthonotha, Antiaris, Antidesma, Antonia, Antrocaryon, Aoranthe, Aparasthmium, Aparisthmium, Apeiba, Aphanamixis, Aphania, Apodites, Aporosa, Aporrhiza, Aporusa, Aptandra, Apuleia, Aquilaria, Aralia, Archidendron, Arthocarpus, Articarpus, Artocarpus, Aspidosperma, Astrocaryum, Astronia, Astronium, Ateleia, Attalea, Atuna, Aubrevillea, Autranella, Avicennia, Azadirachta, Baccaurea, Bactris, Bagassa, Balanites, BALAU, Balfourodendron, Balizia, Banara, Baphia, Baringtonia, Barringtonia, Barteria, Bastardiopsis, Batesia, Bauhinia, Beilschmeidia, Beilschmiedia, Beilshmedia, Beishmeidia, Bellucia, Belonophora, Berlinia, Bersama, Bersame, Bhesa, Bixa, Blepharistemma, Blighia, Bobgunnia, Bocageopsis, Bocoa, Bombacopsis, Bombax, Bosqueia, Bouea, Bowdichia, Brachystegia, Breviea, Breynia, Bridelia, Brosimum, Brownlowia, Buchanania, Buchenavia, Buchholzia, Bunchosia, Burceracea, Burseraceae, Bussea, Byrsonima, Cabralea, Caesalpinia, Callerya, Calliandra, Callicarpa, Caloncoba, Calophyllum, Calpocalyx, Calycolpus, Calyptranthes, Campnosperma, Campomanesia, Campsiandra, Canarium, Capirona, Capparidastrum, Caraipa, Carallia, Carapa, Carica, Caryocar, Caryota, Casearea, Casearia, Cassia, Cassipourea, Cassorea, Castanopsis, Cathedra, Catostemma, Cecropia, Cedrela, Cedrelinga, Ceiba, Celtis, Cephallomappa, Cephalomappa, Cestrum, Chaetachme, Chaetacme, Chaetocarpus, Chamaecrista, Chaumochytum, Chaunochiton, Cheatacme, Cheatchme, Cheiloclinium, Chimarrhis, Chionanthes, Chionanthus, Chisecheton, Chisocheton, Chlamydocola, Christiana, Chrysophyllum, Chukrasia, Chytranthus, Cinnamomum, Citharexylum, Citronella, Clarisia, Clathrotropis, Clausena, Clavija, Cleistanthes, Cleistanthus, Cleisthanthus, Cleisthantus, Cleistopholis, Coccoloba, Cococeras, Cocoseras, Coelocaryon, Coelostegia, Coffea, Cola, Conceveiba, Conchocarpus, Connarus, Conopharyngia, Coona, Copaifera, Cordia, Corynanthe, Corythophora, Couepia, Couma, Couratari, Coussarea, Coutarea, Cratersperumum, Cratoxylum, Crepidospermum, Croton, Crudia, Crypteronia, Cryptocarya, Ctenolophon, Cupania, Cussonia, Cuviera, Cyathocalyx, Cybianthus, Cynometra, Cyrillopsis, Dacryodes, Dahlstedtia, Dalbergia, Daniellia, Dasylepis, Dehaasia, Dendrobangia, Dendropanax, Desplatsia, Detarium, Dialium, Diatenopteryx, Dichapetalum, Dichostemma, Dichrostachys, Dicorynia, Dictyandra, Didymopanax, Dillenia, Dimocarpus, Dimorphandra, Dinizia, Diopyros, Diospyros, Diploon, Diplotropis, Dipterocapus, Dipterocarpus, Dipteryx, Discoclaoxylon, Discoglypremna, Discophora, Disoxylum, Distemonanthus, Dodecastignma, Dombeya, Dovyalis, Dracaena, Drypetes, Duabanga, Duabunga, Duboscia, Duguetia, Dulacia, Durio, Duriocarinatus, Duroia, Dyera, Dysoxylum, Ecclinusa, Ehretia, Ekebergia, Elaeis, Elaeocarpus, Elaeoluma, Elaeophorbia, Elaiocarpus, Elateriospermum, Elizabetha, Elvasia, Emmotum, Empogona, Enademia, Endiandra, Endlicheria, Endodesmia, Endopleura, Endospermum, Entandrophragma, Enterolobium, Eperua, Ephedranthus, Eribroma, Eriocoelum, Eriotheca, Erisma, Erycibe, Erythrina, Erythrophleum, Erythroxylum, Eschweilera, Euadenia, Eugeinsonia, Eugeisonia, Eugeissonia, Eugenia, Euodia, Euonymus, Euphorbia, Euplassa, Euterpe, Euxylophora, Exellodendron, F, Fagaceae, Fagara, Fagaropsis, Fagraea, Faramea, Ferdinandusa, Fernandoa, Ficus, Flacourtia, Funtumia, Fusaea, Gaertnera, Ganophyllum, Garcinia, Gardenia, Gaulettia, Geissospermum, Geonoma, Gironiera, Gironniera, Girroniera, Gleditsia, Glochidion, Gluta, Glycosmis, Glycydendron, Glyphaea, Gmelina, Gnetum, Gonystylus, Gordonia, Goupia, Greenwayodendron, Grewia, Guapira, Guarea, Guatteria, Guazuma, Guibourtia, Gustavia, Gymnacranthera, Gymnostemon, Gynotroches, Handroanthus, Harpullia, Harungana, Hasseltia, Hebepetalum, Heisteria, Helicia, Helicostylis, Helietta, Hemandradenia, Hennecartia, Henriettea, Heritiera, Herritiera, Hevea, Hexalobus, Heynea, Hidnocarpus, Hieronima, Hieronyma, Hildegardia, Himatanthus, Hirtella, Holarrhena, Holigarna, Holocalyx, Holoptelea, Homalium, Homalolepis, Homalolepsis, Hopea, Horsfieldia, Hortia, Humboldtia, Humiria, Humiriastrum, Hydnocarpus, Hydocarpus, Hydrochorea, Hymenaea, Hymenocardia, Hymenolobium, Hymenopus, Hymenostegia, Ilex, Indet., Indet.Anacardiaceae, Indet.Annonaceae, Indet.Apocynaceae, Indet.Arecaceae, Indet.Bignoniaceae, Indet.Burseraceae, Indet.Capparaceae, Indet.Chrysobalanaceae, Indet.Clusiaceae, Indet.Combretaceae, Indet.Dichapetalaceae, Indet.Euphorbiaceae, Indet.Fabaceae, Indet.FabaceaeCaesalpinioideae(mimosoid_clade), Indet.FabaceaePapilionoideae, Indet.Humiriaceae, Indet.Indet., Indet.Lamiaceae, Indet.Lauraceae, Indet.Lecythidaceae, Indet.Malvaceae, Indet.MalvaceaeBombacoideae, Indet.Melastomataceae, Indet.Moraceae, Indet.Myrtaceae, Indet.Nyctaginaceae, Indet.Olacaceae, Indet.Rubiaceae, Indet.Salicaceae, Indet.Sapindaceae, Indet.Sapotaceae, Indet.Urticaceae, Indet.Violaceae, Indet.Vochysiaceae, Indetermined, Inga, Inhambanella, Intsia, Irvingia, Iryanthera, Isertia, Isolona, Isonandra, Ixonanthes, Ixora, Jacaranda, Jacaratia, Jackia, Keayodendron, KERUING, Khaya, Kigalia, Kigelia, Klainedoxa, Knema, Kokoona, Koodersiodendron, Koompasia, Koompassia, Koona, Koordersiodendron, Kubitzkia, Kutchubaea, Laccodiscus, Lacistema, Lacmellea, Lacunaria, Laetia, Lagerstroemia, Lannea, Lansium, Lasiodiscus, Lauraceae, Lecaniodiscus, Lecythis, Leea, Leonia, Lepidobotrys, Lepidocaryum, Lepisanthes, Leplaea, Leptactina, Leptaulus, Leptobalanus, Leptonychia, Liana, Licania, Licaria, Licuala, Limadendron, Lindackeria, Linderkeria, Linociera, Lithocarpus, Litsea, Livistona, llex, Lonchocarpus, Lophira, Lophopetalum, Loreya, Lovoa, Loxopterygium, Luehea, Lueheopsis, Lychnodiscus, Lychodiscus, Lynchodiscus, Lythocarpus, Mabea, Macaranga, Maccaranga, Machaerium, Machilus, Maclura, Macoubea, Macrolobium, Madhuca, Maerua, Maesobotrya, Maesopsis, Magnistipula, Magreteria, Mahurea, Majidea, Mallotus, Malouetia, Malpighia, Mammea, Mangifera, Manihot, Manilkara, Mansonia, Maprounea, Maquira, Maranthes, Mareya, Margaretia, Margaritaria, Markhamia, Martiodendron, Massularia, Mastixia, Matayba, Matisia, Maytenus, Measopsis, Melanochyla, Melicoccus, Melicope, Meliosma, Memecylon, MERANTI, MERSAWA, Mesua, Metrodoria, Mezilaurus, Mezzetia, Miconia, Micrandra, Microcos, Microdesmis, Micropholis, Microtropis, Mildbraediodendron, Milicia, Milletia, Millettia, Mimusops, Minquartia, Mitragyna, Mollatus, Monodora, Monoon, Monteverdia, Morelia, Moronobea, Morous, Morus, Moultonianthus, Mouriri, Mouriria, Moutabea, Muellera, muerto, Musanga, Myrcia, Myrcianthes, Myrciaria, Myrianthus, Myristica, Myristicacea, Myristicaceae, Myrocarpus, Myrsine, Myrtaceae, Mystrozylen, Mystrozylon, Napoleona, Napoleonaea, Naringi, Nauclea, Naucleopsis, Nectandra, Neea, Neesia, Neobalanocarpus, Neoboutania, Neocalyptrocalyx, Neolamarckia, Neonauclea, Neoptychocarpus, Neoraputia, Neoscortechinia, Nepheium, Nephelium, Nesogordonia, Newbouldia, Newtomia, Newtonia, No, Nothopegia, Ochanostachys, Ochna, Ochthocosmus, Ocotea, Oenocarpus, Okoubaka, Olax, Oldfieldia, Olea, Omphalocarpum, Oncoba, Ongokea, Ophiobotrys, Ormosia, Orophea, Osteophloeum, Ostodes, Otonephelium, Oubanguia, Ouratea, Oxandra, Oxyanthus, Oxynthus, Oxyrithus, Ozoroa, Pachira, Pachyelasma, Pachystela, Pajanelia, Palaqium, Palaquium, Palicourea, Pancovia, Panda, Paracroton, Parahancornia, Paramachaerium, Parapiptadenia, Parartocarpus, Parashorea, Parastemon, Parinari, Parinariopsis, Parishia, Parkia, Paropsia, Pausandra, Pausinystalia, Payena, Paypayrola, Pellacalyx, Peltogyne, Peltophorum, Pentace, Pentaclethra, Pentadesma, Pentaspadon, Pera, Perebea, Pertusadina, Petersianthus, Phyllanthus, Phytolacca, Picralima, Picrasma, Pilocarpus, Pimeleodendron, Piptadenia, Piptadeniastrum, Pisonia, Pithecellobium, Placodiscus, Planchonia, Platonia, Platymiscium, Plectronia, Pleiocarpa, Plinia, Podocarpus, Pogonophora, Polyalthia, Polyalthiya, Polyanthia, Polyosma, Polyscais, Polyscias, Pometia, Popowia, Poraqueiba, Porterandia, Posoqueria, Pourouma, Pouteria, Pradosia, Premna, Prioria, Protium, Prunas, Prunus, Pseudolmedia, Pseudopiptadenia, Pseudospondias, Pseudoxandra, Psidium, Psychotria, Psydrax, Pteleopsis, Pternandra, Pterocarpus, Pterocymbium, Pterospermum, Pterygota, Ptychopetalum, Ptychophyxys, Pycnanthus, Qualea, Quararibea, Quassia, Quercus, Quiina, Radlkofera, Radlkoferella, Randia, Rauvolfia, Recordoxylon, Reinwardtiodendron, Rhabdodendron, Rhabdodenrdon, Rhabdophyllum, Rheedia, Rhodamnia, Rhodostemonodaphne, Richeria, Ricinodendron, Rinorea, Rothmannia, Roucheria, Roupala, Rovoulfia, Ruizterania, Ruprechtia, Ryparosa, Rytigynia, Sacoglottis, Sageraea, Sagotia, Sandoricum, Sandwithia, Santiria, Sapindus, Sapium, Sapotaceae, Saraca, Sarcotheca, Scaphium, Schefflera, Schleichera, Schoutenia, Sclerocroton, Sclerolobium, Scolopia, Scorodocarpus, Scottellia, Sculopia, Scutinanthe, Sebastiania, Seguieria, Semecarpus, Sextonia, Shirakiopsis, Shorea, Shoreasp, Sideroxylon, Simaba, Simarouba, Sindora, Siparuna, Sizygium, Sloanea, Socratea, Solanum, Sorocea, Soyauxia, Spathodea, Spatholobus, Spondias, Stachyarrhena, Staudtia, Stemonocoleus, Stemonurus, Sterculia, Stereospermum, Streblus, Strichnosmitis, Strombosia, Strombosiopsis, Strychnos, Stryphnodendron, Styrax, Swartzia, Swintonia, Syagrus, Symphonia, Symplocos, Synsepalum, Syzigium, Syzygium, Tabebuia, Tabernaemontana, Tabernamontana, Tachigali, Talisia, Tapirira, Tapura, Tarenna, Teclea, Teijmaniodendron, Teijsmaniodendron, Terminalia, Ternstroemia, Tessmannia, Tetragastris, Tetrameles, Tetrameranthus, Tetramerista, Tetrapilus, Tetrapleura, Tetrorchidium, Teysmaniodendron, Theobroma, Thomandersia, Thyrsodium, Timonius, Toona, Toulicia, Touroulia, Tovomita, Trattinnickia, Treculia, Trema, Tricalysia, Trichilia, Trichoscypha, Tridesmostemon, Trilepisium, Triplochiton, Tristania, Tritaxis, Trymatococcus, Turpinia, Turraeanthus, Uapaca, Unonopsis, Urera, Uvariopsis, Vangueria, Vantanea, Vasconcellea, Vatairea, Vataireopsis, Vateria, Vatica, Vepris, Vernonia, Virola, Vismia, Vitex, Voacanga, Vochysia, Votomita, Vouacapoua, Vouarana, Xanthophyllum, Xerospermum, Xylopia, Xylosma, Zanha, Zanthoxylum, Ziziphus, Zollernia, Zygia\"\n\n\nWith the following counts:\n\n\nCode\ntaxo %&gt;%\n  select(genus) %&gt;%\n  unique() %&gt;%\n  summarise(\n    \"Missing\" = sum((genus %in% c(\"#N/A\", \"A\")),\n      na.omit = TRUE\n    ),\n    \"Indet\" = sum(\n      (genus %in% c(\n        \"Indet.\", \"nd\", \"sp\", \"sp1\", \"sp5\", \"Indetermined\",\n        \"No\", \"KERUING\", \"MERANTI\", \"MERSAWA\",\n        \"BALAU\", \"muerto\"\n      )),\n      na.omit = TRUE\n    ),\n    \"Family-only\" = sum(grepl(\"Indet.\", genus), na.omit = TRUE)\n  ) %&gt;%\n  gather(\"type\", \"number\") %&gt;%\n  kable(caption = \"Number of genus by issue type.\")\n\n\n\nNumber of genus by issue type.\n\n\ntype\nnumber\n\n\n\n\nMissing\n2\n\n\nIndet\n9\n\n\nFamily-only\n37"
  },
  {
    "objectID": "11_raw.html#species",
    "href": "11_raw.html#species",
    "title": "Raw",
    "section": "Species",
    "text": "Species\nSpecies includes the following dubious names:\n\nUnidentified (“det”, “^sp”). Indet., sp, sp., Schaeff., Mast, Welw, Stapf, Hook, Gilg, Benth, flacouirtiaceae, Determinado, BERMINYAK, TIDAK,KUNING, spp,\nsp1, sp5, L, muerto\nSub-taxonomic (“[[:punct:]]”): guyanensis subsp. Guyanensis, acuminatum_subsp.juniperinum, cuspidata_subsp.dura, guyanensis subsp. Guyanensis, guyanensis_subsp.duckeana, opacum_subsp.rabelianum, panacoco_var.panacoco, persistens_subsp.aurantiaca, tomentosa_subsp.maroniensis, venosa_subsp.amazonica, vera_subsp.affinis\nUndescribed (“^sp”). sp.1, sp.1-CAY, sp.10-CAY, sp.11-CAY, sp.12-CAY, sp.13-CAY, sp.14-CAY, sp.15-CAY, sp.16-CAY, sp.17-CAY, sp.18-CAY, sp.1Guyafor, sp.2, sp.2-CAY, sp.21_DS, sp.22-CAY, sp.23-CAY, sp.24-CAY, sp.2BAF, sp.2Guyafor, sp.3, sp.3-CAY, sp.30-CAY, sp.33-CAY, sp.34-CAY, sp.35-CAY, sp.35Guyafor, sp.36-CAY, sp.38Guyafor, sp.3BAF, sp.3Guyafor, sp.4-CAY, sp.42-CAY, sp.5-CAY, sp.5Guyafor, sp.6-CAY, sp.6Guyafor, sp.7-CAY, sp.70-CAY, sp.71-CAY, sp.7Guyafor, sp.8-CAY, sp.9-CAY, sp.B1, sp.B10, sp.B2, sp.B35, sp.B5, sp.B8, sp.B9, sp.C, sp.D, sp.FG13-Holst, sp.FG14-Holst, sp.FG2-Holst, sp.FG21-Holst, sp.FG9-Holst, sp.P1, sp.P11, sp.P22, sp.P3, sp.P33, sp.P4, sp.P6, sp.P9\n\nSee the list below:\n\n\nCode\nt &lt;- select(taxo, species) %&gt;%\n  unique() %&gt;%\n  filter(grepl(\"^sp\", species))\nunique(taxo$species) %&gt;%\n  sort() %&gt;%\n  paste0(collapse = \", \")\n\n\n[1] \", A, abbreviata, abyssinica, acida, acreana, acrocephala, aculeata, acuminata, acuminatissima, acuminatissimum, acuminatum_subsp.juniperinum, acuminta, acuta, acutangula, acutiflora, acutifolium, adianthifolia, adolfi, adolphi-fridericii, adstringens, aerugo, aethiopica, affine, africana, africanum, africanus, afzelii, agami, agamii, aggregatum, alata, alba, albescens, albicans, albicoria, albiflora, albiflorum, album, alchorneoides, alicastrum, alliodora, alpinus, alternifolia, altisima, altissima, altissimum, altsonii, amara, amazonia, amazonica, amazonicum, amazonicus, ambelaniifolia, ambotay, amentacea, americana, amoenum, amorphoides, amshoffiana, amythiesii, anamalaiense, anastomosans, andongensis, aneura, angolense, angolensis, angulata, angustifolia, angustifolium, angustifolius, angustiloba, aningeri, anisata, anisophylla, anisophyllus, anomala, antennifera, anteridifera, anthelminthica, anthotheca, anysophyllus, apeibophylla, apetala, apiculata, apiculatum, apodanthus, aptera, aquatica, aracouchini, arborea, arborescens, arboreus, argenteum, arguta, argyrophylla, aristata, aritu, armata, arnoldiana, arnoldianum, arnottiana, aromatica, articulatus, asbeckii, aspera, assamicus, atropurpurea, atroviolaceus, atroviridis, attenuata, Aubl, aubletii, aubrevillei, augouardii, augusta, auratum, auriculata, auristellae, australe, aviformis, axillaris, aylmeri, bacaba, baccata, baccifera, bacciformis, baculifera, bagshawei, bakembei, balansae, ballayi, balsamifera, bancoensis, bangii, bankae, bankense, barbata, barbatum, barteri, bataua, battiscombei, baudii, bauhiniaefolia, becarii, beccariana, beccarii, beccarina, beddomei, beguei, beillei, bella, bellirica, benetii, bengalensis, bennetii, Benth, benthamiana, benthamianus, benthamii, bequaertii, BERMINYAK, bethanniana, bicolor, bicornis, bidentata, bifolium, bigeminum, bijuga, bilocularis, bipindensis, blumeanus, bolivarensis, boliviana, bonplandii, boonei, borneensis, Borneensis, botryoides, boukokoense, bourdillonii, bourgoni, boya, brachiata, brachyandra, brachyanthera, brachyata, brachybotrys, brachylepis, brachypetala, brachypoda, brachyrachis, brachystachys, brachytepala, bracteata, bracteatus, bracteolata, bracteosa, brasiliense, brasiliensis, brevibracteatus, brevicuspis, brevipes, brevis, brevistaminea, bridelioides, brunnea, brunnescens, brunonis, bubalinum, bucchanani, buettneri, buonopozense, burchellii, burkartiana, Burm, burseraefolia, burserifolia, butayei, butyracea, buxifolia, cacao, cadamba, caerulescens, caffra, caimito, cainito, calodendron, caloneura, calophylla, calophylloides, calophyllum, calycina, campanulata, campestre, campestris, canaliculata, canarica, candollei, canelilla, canephora, canescens, canjerana, cannella, cantleyanus, capensis, capillipes, capitata, capitatus, capitulifera, capreifolia, carapanauba, carbonaria, cardiosperma, caricifolia, carinata, carinatus, carrinatus, carthagenensis, caryophylloides, casiquiarensis, castanea, castaneifolia, cateniformis, catharinensis, catigua, caudata, caudatum, cauliflora, cavalcantei, cayennensis, ceanothifolia, cecropioides, cedrata, cedron, centrale, cephalostigma, cerasiferum, ceratoxylon, cernua, cerospermus, ceylanica, chartacea, chartaceifolia, chartaceus, chevalieri, chlamydantha, chloranthum, chlorantum, chrysochlamys, chrysophylla, chrysophyllum, cicatricata, ciliata, cinerea, cinnabarina, cinnamomea, cinnamomum, cissiflora, citrifolia, citrifolium, cladantha, clathrata, claussenii, claviflora, coarctata, coccinea, cochinchinense, cochinchinensis, cochlariflorum, cochlearia, cochleata, coerulea, coffeifolia, coffeoides, cognatum, collina, collocarpa, commersoniana, comosa, compressa, concolor, conferta, confertiflora, confertus, confusa, confusus, congensis, congesta, congestiflora, congoensis, congolana, congolensis, conocarpus, constricta, contortisiliquum, contracta, copaia, cordata, cordatum, cordifolia, coriacea, cornutus, corrugata, corymbosa, costata, costulata, costulatus, courbaril, courtallensis, coutinhoi, cowanii, crassa, crassiflora, crassifolia, crassipetalum, crenata, crenulata, crinita, crispa, crispiflorus, cristata, cruentum, cumini, cuneata, cuneatum, cuneatus, cuneifolium, cupanioides, cupulata, curtisii, cuspidata, cuspidata_subsp.dura, cuspidatum, cydonioides, cylindrica, cylindricum, cymosa, dananensis, daphnoides, dasyphyllum, dawei, debilis, decagyna, decandra, decandrum, decaphylla, decaphyllus, deciduum, decipiens, decolorans, decorticans, decussata, deflexa, demerarae, demerarense, densa, densicoma, densiflora, densifolia, densifrons, dentata, dentatus, denticulatum, desmanthum, Determinado, dewevrei, diadenum, dichotoma, dichroa, diderrichii, didymostemon, dinizii, dinklagei, dioica, dioicus, diospyrifolia, discoidea, discolor, discreta, distachya, divaricata, divaricatum, divergen, divergens, diversifolia, diversifolium, dolichocalyx, dolichocarpa, doniana, dryobalanoides, dubium, duchesnei, duckeana, duckei, dulcis, dumetosa, Dunal, dura, durandii, durifructum, durlandii, ebenum, ecalyculata, echinata, echinocarpa, echinophora, edentula, edertii, edule, edulis, eetveldeana, effusus, egensis, eggelingi, eggersiana, egleri, egregia, ehie, ehrenbergiana, eichleri, ekmanii, elaeagnoides, elaeosperma, elastica, elasticus, elata, elatum, elegans, elliotii, elliptica, ellipticifolia, ellipticum, elongatus, elvasioides, emarginata, eminens, eminii, engleri, erectinervia, erianthus, eriobetalum, eriopetalum, eriopila, erythrocarpa, esculenta, eugeniifolia, euneura, ewickii, ewyckii, exaltata, exasparta, exasperata, excelliptica, excelsa, excelsum, excessim, excimia, exelliptica, exelsa, exorrhiza, exsucca, eyma, fagara, fagifolium, falcata, falcifera, fallax, fallx, fanchoniana, fanshawei, fasciculata, fastigiata, fauciflora, ferok, ferox, ferrea, ferruginea, ficigemma, filicoidea, filipes, fimbriata, firma, fissilis, fistuloides, fistulosa, flacouirtiaceae, flaemingii, flagellaris, flava, flavescens, flavicans, flavida, flavilatex, flavum, flexuosa, floribunda, foetida, foliolosa, forbesii, forficata, formosum, forstenii, fosteri, fouilloyana, fragans, fragrans, fraxinifolius, froesii, frondosa, frondosum, frondosus, frutescens, fruticosa, fulva, furfuracea, gabonensis, galeata, gallicum, gambecola, gamofetala, gamopetala, ganggo, garckeana, gardneri, gazelii, genipiflora, ghatensis, gigantae, gigantea, gigantecarpa, giganteum, gigantocarpa, gigantofolia, Gilg, gilgiana, gilletii, glaberrima, glabra, glabrata, glabriflorus, glabrum, glandistipula, glandulifera, glandulosa, glandulosum, glauca, glaucescens, glaucus, glazioveana, globosa, globosum, globulifera, glomerata, gloriosa, glycycarpa, goeldiana, goetheanus, goliath, golungensis, gomma, gomphophylla, gonggrijpii, gongrijpii, gonocarpum, gore, gossweileri, graciliflora, gracilifolia, gracilis, grahamii, grandbracteata, grandiflora, grandiflorus, grandifolia, grandifoliola, grandifolium, grandifolius, grandis, granulosa, granulosum, granvillei, graveolens, griffithi, griffithii, grifithii, grossularioides, guajar, guatterioides, guaviroba, guazumifolia, guereensis, guianense, guianensis, guidonia, guineense, guineensis, guiso, gummi-gutta, gummifera, gutta, guyanensis, guyanensis subsp. Guyanensis, guyanensis_subsp.duckeana, habrantha, haematospermum, harmsiana, hasseltii, haumanianus, havilandii, heimii, helstonei, hemidasya, hemisphericum, heptaphyllum, heptaphyllus, heteromorpha, heteromorphus, heterophylla, heterophyllus, heudelotii, hexaloba, hexandra, hexandrum, hexapetala, hexaphylla, hirsuta, hirsutus, hispida, hispidula, holcogyne, holstii, Hook, hosei, hostilis, hostmanniana, hostmannii, huberi, huberiana, hulletii, hullettii, humeratus, humiriifolium, hurifolia, hylodendron, hypoglauca, hypolampra, hypoleuca, hypophoenica, hypophoenicea, idatimon, ilicicifolia, ilicifolia, impetiginosa, inconspicua, incurvata, Indet., indica, indicus, indum, inelegans, inermis, iners, inpressa, insignis, int, integer, integra, integrifolia, intermedia, inundata, involucrata, itauba, iturensis, ituriensis, ivorense, ivorensis, Jambolides, jamboloides, japurensis, jariensis, javanica, javanicum, javitensis, jenmani, jenmanii, johimbe, johnsonii, johorensis, joveri, jupunba, juruensis, kabingaensis, kamerunensis, kappleri, keayana, keithii, kemando, kerstingii, kikir, kingii, klaineana, klaineanum, klainei, koetjapi, kola, KUNING, kunstleri, kunstlerii, kunthiana, kuteyensis, kwatae, L, laciniatum, lacourtianum, lactescens, laetum, laeve, laevifolim, laevifrons, laevigata, laevigatum, laevigatus, laevis, lagenifera, lambertiana, lanceaefolia, lanceaefoliia, lanceifolius, lanceolata, lanceolatum, lanceolatus, lanciferum, lancifolia, lapaceum, lappaceum, lastoursvillense, latericia, lateriflora, lateritia, latifolia, latistipulus, laurentii, laurifolia, laurina, laxiflora, lecointei, leembruggianus, leiocalycina, leiocarpa, lemairei, lentiscifolia, leonensis, lepidophyllus, lepidota, lepidotula, leprieurii, leprosula, leprosus, lescrauwaetii, letestui, leucocoma, licaniiflora, ligustrinum, lindaviana, lindeniana, linearicarpum, lisae, litorale, litt, littorale, lomatophylla, longan, Longflora, longiflora, longifolia, longifolium, longipedicellata, longipedunculata, longipendula, longipes, longipetiolata, longisperma, longistylum, longistylus, longitubulosa, loubryana, louisii, lowiana, lowianus, lowii, lucentifolium, lucidus, lunata, lunu-ankenda, lurida, luschnathiana, lutea, mabokeensis, machadoana, macrantha, macrobotrys, macrocalyx, macrocarpa, macrocarpon, macrocarpum, macrocarpus, macroceras, macrophylla, macrophyllum, macrophyllus, macropodum, macroptera, macrosepala, madagascariense, madeirana, madruno, magnifica, magnoliifolia, maingayi, maingayii, majuscula, mala-elengi, malabarica, malabaricum, malabaricus, malabathrum, malaccense, malaccensis, malayana, malembaensis, mannii, marcgravianum, marginata, marginatum, maripa, marmieri, maroniensis, marowynensis, martiniana, martinicensis, Mast, mataybifolia, matourensis, maxima, maximum, maxweliana, maxwelliama, maxwelliana, maxwilliana, mayumbensis, megalantha, megalocarpum, megalophylla, megantha, megaphylla, megapotamica, melanocarpum, melanopoda, melinoniana, melinonii, membranacea, membranifolium, mengarawan, mensalis, mesozygia, mespiloides, mezii, michelii, michellii, micradenia, micrantha, micranthus, micraster, microbotrys, microcalyx, microcarpa, micropetalum, microphylla, mildbraedii, millenii, minor, minutiflora, mitiis, mitis, modestum, modustum, mollis, mollissima, mombin, monadelpha, monandra, monbuttensis, monopetalus, montana, moosa, morella, morettii, morii, morototoni, moschata, motleyana, mucuso, muehlbergiana, mukole, multicostata, multiflora, multijuga, multinervia, multiovula, muricata, myrianthes, myrianthus, Myrianthus, myristica, myrmecophyla, myrmecophylla, myrranthus, myrsinoides, myrtifolia, nacropodum, nana, nannanii, natalensis, nd, Nees, neglecta, neriifolia, neriifolius, nervosa, nieuwenhuisii, nigra, nigrecens, nigritana, niopoides, nitens, nitida, nitidissima, nitidum, nitidus, nobilis, nodosa, noronhianum, noronhoe, nouragensis, nux-vomica, nymphaeifolia, obanensis, oblanceolata, oblonga, oblongata, oblongifolia, oblongum, obovata, obovatum, obscura, obstetrix, obtusa, obtusifolia, obtusifolium, obtusifolius, occidentalis, ochneocarpa, ochracea, ochrocalyx, octandrus, odora, odorata, odoratisima, odoratissima, odoratissimus, officinalis, ohracea, okelensis, olacoides, oldemanii, oleosa, oleracea, oligandrus, oligoneura, oliveri, omphalandra, omphalocarpoides, opaca, opacum_subsp.rabelianum, operculata, opifera, opposita, oppositifolia, oppositifolius, orellana, orientalis, orinocensis, ormosioides, ornata, osun, ottolanderi, ovalifolia, ovalis, ovata, oviformis, oxleyanis, oxleyanus, oxyphylla, P, pachycarpa, pachyceras, pachyphyllum, pachysteloides, paivae, palembanica, paliidum, pallens, pallescens, pallidior, pallidum, pallidus, palmata, paludosa, palustris, panacoco, panacoco_var.panacoco, panamensis, paniculata, paniculatum, panurensis, papaverifera, papaveroides, papaya, papilio, papillosus, paraense, paraensis, paraguariense, paraguariensis, paramaca, parillo, parinarioides, parviflora, parviflorum, parvifolia, Parvifolia, parvifoliolum, parvifolius, parvifructa, parvula, parvum, patens, patrisii, pauciflora, pavettoides, pavonina, paxii, pectinosquamata, pedicelata, pedicellaris, pedicellata, pedunculata, pellegriniana, pellegrinii, peltata, penangiana, pendula, penduliflora, penduliflorus, pendulla, pendulus, pennatifolius, pentagyna, pentandra, pentandrum, pentandrus, percurrens, perpulchrum, perrottetii, persistens, persistens_subsp.aurantiaca, perviridis, pescotomentosa, petalanthera, petidaris, petiolare, petiolaris, petiolatus, petoumo, petraeum, pezizifera, phaeophylla, philippensis, philippinensis, phloiodora, phoberos, pilosa, pilosula, pilosum, pin, pinanga, pinnata, pinnatum, piresiana, piriri, pisocarpa, pisonis, pitumba, plagiocarpium, platycalyx, platycephala, platycephalum, platyclados, platyphylla, platyspermum, platythyrsa, plukenetii, poeppigiana, poeppigii, poiteaui, polita, polyantha, polyanthum, polybotryum, polycarpa, polygyna, polyphylla, polystachys, polystachyum, pomiferum, ponga, potabilis, praealta, praeclara, praecox, prasina, preussii, prieuriana, prieurii, principum, procera, procerum, prouacensis, pruinosa, pruniforme, pruriens, pseudolancium, pseudopsidium, pseudostipularis, pseudosumatranum, psilostachya, pterocarpoides, pteroclada, pteropus, ptychandra, puberula, puberulum, pubescens, pubiflora, pulchella, pulcher, pulcherianum, pulcherrianum, pulcherrima, pulcherrimum, pulcherrimus, pulcherrinum, pulvinata, pulvinervis, punctata, punctulata, pungens, purpurascens, purpurea, purusensis, pustulata, pycnantha, pynaertii, pyrifolium, pyriformis, quadrifaria, quadrifida, quadrijuga, quercifolia, quintasii, racemifera, racemosa, ramboi, ramiflora, ramuliflora, rasak, rassak, recurvata, remiger, reticulata, retinervis, revolutus, rhetsa, rhinopetala, rhoifolia, rhoifolium, richardiana, Ridl, riedelianum, rigida, rigidum, rigidus, rimosa, rivularis, robur, robusta, robustum, rodolphii, rodriguesiana, rodriguesii, rogosa, rohrii, romanzoffiana, rosea, rosodora, rossiana, rostrata, rostratum, rotundifolius, routledgei, rowlandii, roxburghii, rubescens, rubiginosa, rubiginosum, rubra, rubrivenium, rubrostipulata, rufescens, rufovirgata, rugosa, rugulosa, rumphii, rupicola, ruwensorens, ruwensorensis, sagotiana, sagotianum, sagotii, salikounda, sanctae, sandwithianum, sanguinolentum, santalinoides, sapida, saponaria, sarmentosa, scabra, Schaeff., scheffleri, scholaris, schomburgkiana, schomburgkianus, schomburgkii, schweinfurthii, schwenkii, sciadophylla, sciophilum, sclerophylla, scleroxylon, scrobiculata, sebifera, seminis, senegalense, senegalensis, septentrionalis, seretii, sericea, sericeum, serrata, serratifolia, serratifolius, serratus, sertulifera, sessilifolia, silvatica, silvestris, simaboides, simiorum, simplicifolia, simplicifolium, sinemariensis, singkawang, singularis, sissoides, smeathmannii, smithiesii, smyethiesi, smyetiesii, smythiesii, Smythiesii, sorbifolia, soulatri, soyauxii, sp, sp., sp.1, sp.1-CAY, sp.10-CAY, sp.11-CAY, sp.12-CAY, sp.13-CAY, sp.14-CAY, sp.15-CAY, sp.16-CAY, sp.17-CAY, sp.18-CAY, sp.1Guyafor, sp.2, sp.2-CAY, sp.21_DS, sp.22-CAY, sp.23-CAY, sp.24-CAY, sp.2BAF, sp.2Guyafor, sp.3, sp.3-CAY, sp.30-CAY, sp.33-CAY, sp.34-CAY, sp.35-CAY, sp.35Guyafor, sp.36-CAY, sp.38Guyafor, sp.3BAF, sp.3Guyafor, sp.4-CAY, sp.42-CAY, sp.5-CAY, sp.5Guyafor, sp.6-CAY, sp.6Guyafor, sp.7-CAY, sp.70-CAY, sp.71-CAY, sp.7Guyafor, sp.8-CAY, sp.9-CAY, sp.B1, sp.B10, sp.B2, sp.B35, sp.B5, sp.B8, sp.B9, sp.C, sp.D, sp.FG13-Holst, sp.FG14-Holst, sp.FG2-Holst, sp.FG21-Holst, sp.FG9-Holst, sp.P1, sp.P11, sp.P22, sp.P3, sp.P33, sp.P4, sp.P6, sp.P9, sp1, sp5, sparsiflorum, speciosa, speciosum, speciosus, spinosa, splendens, spp, spruceana, spruceanum, sprucei, squamata, squarrosa, Stapf, staudtii, stellata, stellatus, stenodictya, stevensonii, stipitatum, stipulacea, stipulaceum, stipularis, stipulatum, stipulifera, strictum, strumosum, suaveolens, subcordata, subcordatum, subcoriacea, subcrenatum, subdimidiata, subdita, subericarpa, subglandulosa, subglauca, subincanum, sublamellatus, subobovatum, subscorpioidea, subsericea, subserratum, subspathulata, subterminalis, subulatus, subviolacea, succosa, sucuuba, sumatrana, sumatranum, sundaicus, superba, sur, surinamense, surinamensis, surtifolia, surumuensis, swintoioides, swintonioides, swynnertonni, sylvatica, sylvaticus, sylvestre, sylvestris, synandra, tabularis, tadulingamii, talbotii, tamaquarina, tapos, taubertiana, tawahense, tenella, tenue, tenuifolia, tenuifolium, terminalis, tessmannii, testudinarum, tetragona, tetramera, tetrandra, tetraphylla, tetraptera, thibaudiana, thompsonii, Thouars, thurifera, TIDAK, tiliifolia, tinctoria, tinctorium, tisserantii, toka, tomentella, tomentosa, tomentosa_subsp.maroniensis, toqueve, torta, toxicaria, trachyphylla, tragacantha, travancorica, trichilioides, trichotoma, tricolor, triflora, trifoliata, trifoliatum, trifoliolatum, trijuga, trimera, trinervia, triplinervia, tristis, tschudyoides, tubifera, tubulatum, tungurut, turbinata, tweediana, uchi, ugandensis, ulceolaris, ulei, ulmifolia, ulmoides, umbellata, umbellifera, umbonata, umbonta, uncinatum, undulata, uniflora, unijugata, uraguensis, urcelliformis, urceolaris, urceolata, urens, urophylla, urophyllus, utile, Vahl, valida, variabilis, variifolia, velutina, velutinum, venezuelanense, venosa, venosa_subsp.amazonica, venulosa, venulosum, venusta, vera_subsp.affinis, verdoorniana, vernalis, vernicosa, verrucosus, versicolor, vignei, villifera, villosa, villosum, vilosa, vinosa, virescens, virgilioides, virgultosa, viridicans, viridiflora, vittelinum, vogeliana, vogelianum, vogelii, vomitaria, vomitoria, wachenheimii, walichii, wallichiana, wallichianum, wallichii, warmingiana, Welw, welwitschii, whiteana, wightiana, wightianum, wightii, Willd, williamsii, wilsoniana, woodi, woodii, wullschlaegeliana, xanthocarpa, zabucajo, zaizou, zanthoxyloides, zapallo, zechiana, zenkeri, zeylanicum, zeylanicus, zygia\"\n\n\n\n\nCode\nunid &lt;- c(\n  \"Indet.\", \"sp\", \"sp.\", \"Schaeff.\",\n  \"Mast\", \"Welw\", \"Stapf\", \"Hook\", \"Gilg\", \"Benth\",\n  \"flacouirtiaceae\", \"Determinado\", \"BERMINYAK\", \"TIDAK\", \"KUNING\", \"spp\",\n  \"sp1\", \"sp5\", \"L\", \"muerto\"\n)\nsubtaxo &lt;- c(\n  \"guyanensis subsp. Guyanensis\", \"acuminatum_subsp.juniperinum\",\n  \"cuspidata_subsp.dura\", \"guyanensis subsp. Guyanensis\",\n  \"guyanensis_subsp.duckeana\", \"opacum_subsp.rabelianum\",\n  \"panacoco_var.panacoco\", \"persistens_subsp.aurantiaca\",\n  \"tomentosa_subsp.maroniensis\", \"venosa_subsp.amazonica\",\n  \"vera_subsp.affinis\"\n)\nundesc &lt;- c(\n  \"sp.1\", \"sp.1-CAY\", \"sp.10-CAY\", \"sp.11-CAY\", \"sp.12-CAY\",\n  \"sp.13-CAY\", \"sp.14-CAY\", \"sp.15-CAY\", \"sp.16-CAY\",\n  \"sp.17-CAY\", \"sp.18-CAY\", \"sp.1Guyafor\", \"sp.2\", \"sp.2-CAY\",\n  \"sp.21_DS\", \"sp.22-CAY\", \"sp.23-CAY\", \"sp.24-CAY\", \"sp.2BAF\",\n  \"sp.2Guyafor\", \"sp.3\", \"sp.3-CAY\", \"sp.30-CAY\", \"sp.33-CAY\",\n  \"sp.34-CAY\", \"sp.35-CAY\", \"sp.35Guyafor\", \"sp.36-CAY\",\n  \"sp.38Guyafor\", \"sp.3BAF\", \"sp.3Guyafor\", \"sp.4-CAY\",\n  \"sp.42-CAY\", \"sp.5-CAY\", \"sp.5Guyafor\", \"sp.6-CAY\", \"sp.6Guyafor\",\n  \"sp.7-CAY\", \"sp.70-CAY\", \"sp.71-CAY\", \"sp.7Guyafor\", \"sp.8-CAY\",\n  \"sp.9-CAY\", \"sp.B1\", \"sp.B10\", \"sp.B2\", \"sp.B35\", \"sp.B5\", \"sp.B8\",\n  \"sp.B9\", \"sp.C\", \"sp.D\", \"sp.FG13-Holst\", \"sp.FG14-Holst\",\n  \"sp.FG2-Holst\", \"sp.FG21-Holst\", \"sp.FG9-Holst\", \"sp.P1\", \"sp.P11\",\n  \"sp.P22\", \"sp.P3\", \"sp.P33\", \"sp.P4\", \"sp.P6\", \"sp.P9\"\n)\ntaxo %&gt;%\n  select(species) %&gt;%\n  unique() %&gt;%\n  summarise(\n    \"Unidentified\" = sum(species %in% unid,\n      na.omit = TRUE\n    ),\n    \"Sub-taxonomic\" = sum(species %in% subtaxo,\n      na.omit = TRUE\n    ),\n    \"Undescribed\" = sum(species %in% undesc,\n      na.omit = TRUE\n    )\n  ) %&gt;%\n  gather(\"type\", \"number\") %&gt;%\n  kable(caption = \"Number of species by issue type.\")\n\n\n\nNumber of species by issue type.\n\n\ntype\nnumber\n\n\n\n\nUnidentified\n20\n\n\nSub-taxonomic\n11\n\n\nUndescribed\n66"
  },
  {
    "objectID": "12_cleaned.html#names-corrections",
    "href": "12_cleaned.html#names-corrections",
    "title": "Cleaning",
    "section": "Names corrections",
    "text": "Names corrections\nFirst we cleaned family, genus and species names using contingency table built on the information of dubious names from the previous chapter.\n\n\nCode\nfamily_tab &lt;- data.frame(\n  family_corrected = NA,\n  family_raw = c(\n    \"#N/A\", \"+\", \"muerto\",\n    \"Indet.\", \"Not in DB\", \"ND\", \"No determinado\", \"unid.\", \"unidentified\"\n  ),\n  family_reason = c(\n    rep(\"missing\", 3),\n    rep(\"unidentified\", 6)\n  )\n)\nwrite_tsv(family_tab, \"data/derived_data/family_correction_table_v2.tsv\")\ngenus_tab &lt;- data.frame(\n  genus_corrected = NA,\n  genus_raw = c(\n    \" #N/A\", \"A\",\n    \"Indet.\", \"nd\", \"sp\", \"sp1\", \"sp5\", \"Indetermined\", \"No\",\n    \"KERUING\", \"MERANTI\", \"MERSAWA\",\n    \"BALAU\", \"muerto\",\n    \"Indet.Apocynaceae\", \"Indet.Arecaceae\",\n    \"Indet.Bignoniaceae\", \"Indet.Burseraceae\",\n    \"Indet.Capparaceae\", \"Indet.Chrysobalanaceae\", \"Indet.Clusiaceae\",\n    \"Indet.Combretaceae\", \"Indet.Dichapetalaceae\", \"Indet.Euphorbiaceae\",\n    \"Indet.Fabaceae\", \"Indet.FabaceaeCaesalpinioideae(mimosoid_clade)\",\n    \"Indet.FabaceaePapilionoideae\", \"Indet.Humiriaceae\", \"Indet.Indet.\",\n    \"Indet.Lamiaceae\", \"Indet.Lauraceae\", \"Indet.Lecythidaceae\",\n    \"Indet.Malvaceae\", \"Indet.MalvaceaeBombacoideae\",\n    \"Indet.Melastomataceae\", \"Indet.Moraceae\", \"Indet.Myrtaceae\",\n    \"Indet.Nyctaginaceae\", \"Indet.Olacaceae\", \"Indet.Rubiaceae\",\n    \"Indet.Salicaceae\", \"Indet.Sapindaceae\", \"Indet.Sapotaceae\",\n    \"Indet.Urticaceae\", \"Indet.Violaceae\", \"Indet.Vochysiaceae\",\n    \"Indet.Anacardiaceae\", \"Indet.Annonaceae\"\n  ),\n  genus_reason = c(\n    rep(\"unidentified\", 2),\n    rep(\"missing\", 12),\n    rep(\"family-only\", 34)\n  )\n)\nwrite_tsv(genus_tab, \"data/derived_data/genus_correction_table_v2.tsv\")\nspecies_tab1 &lt;- data.frame(\n  species_corrected = NA,\n  species_raw = c(\n    \"Indet.\", \"sp\", \"sp.\", \"Schaeff.\", \"spp\",\n    \"Mast\", \"Welw\", \"Stapf\", \"Hook\", \"Gilg\", \"Benth\", \"flacouirtiaceae\",\n    \"Determinado\", \"BERMINYAK\", \"TIDAK\", \"KUNING\",\n    \"sp1\", \"sp5\", \"L\", \"muerto\",\n    \"sp.1\", \"sp.1-CAY\", \"sp.10-CAY\", \"sp.11-CAY\", \"sp.12-CAY\",\n    \"sp.13-CAY\", \"sp.14-CAY\", \"sp.15-CAY\", \"sp.16-CAY\",\n    \"sp.17-CAY\", \"sp.18-CAY\", \"sp.1Guyafor\", \"sp.2\", \"sp.2-CAY\",\n    \"sp.21_DS\", \"sp.22-CAY\", \"sp.23-CAY\", \"sp.24-CAY\", \"sp.2BAF\",\n    \"sp.2Guyafor\", \"sp.3\", \"sp.3-CAY\", \"sp.30-CAY\", \"sp.33-CAY\",\n    \"sp.34-CAY\", \"sp.35-CAY\", \"sp.35Guyafor\", \"sp.36-CAY\",\n    \"sp.38Guyafor\", \"sp.3BAF\", \"sp.3Guyafor\", \"sp.4-CAY\",\n    \"sp.42-CAY\", \"sp.5-CAY\", \"sp.5Guyafor\", \"sp.6-CAY\", \"sp.6Guyafor\",\n    \"sp.7-CAY\", \"sp.70-CAY\", \"sp.71-CAY\", \"sp.7Guyafor\", \"sp.8-CAY\",\n    \"sp.9-CAY\", \"sp.B1\", \"sp.B10\", \"sp.B2\", \"sp.B35\", \"sp.B5\", \"sp.B8\",\n    \"sp.B9\", \"sp.C\", \"sp.D\", \"sp.FG13-Holst\", \"sp.FG14-Holst\",\n    \"sp.FG2-Holst\", \"sp.FG21-Holst\", \"sp.FG9-Holst\", \"sp.P1\", \"sp.P11\",\n    \"sp.P22\", \"sp.P3\", \"sp.P33\", \"sp.P4\", \"sp.P6\", \"sp.P9\"\n  ),\n  species_reason = c(\n    rep(\"unidentified\", 20),\n    rep(\"undescribed\", 65)\n  )\n)\nspecies_tab2 &lt;- data.frame(\n  species_corrected = c(\n    \"guyanensis\", \"acuminatum\", \"cuspidata\", \"guyanensis\",\n    \"guyanensis\", \"opacum\", \"panacoco\", \"persistens\",\n    \"tomentosa\", \"venosa\", \"vera\"\n  ),\n  species_raw = c(\n    \"guyanensis subsp. Guyanensis\", \"acuminatum_subsp.juniperinum\",\n    \"cuspidata_subsp.dura\", \"guyanensis subsp. Guyanensis\",\n    \"guyanensis_subsp.duckeana\", \"opacum_subsp.rabelianum\",\n    \"panacoco_var.panacoco\", \"persistens_subsp.aurantiaca\",\n    \"tomentosa_subsp.maroniensis\", \"venosa_subsp.amazonica\",\n    \"vera_subsp.affinis\"\n  ),\n  species_reason = \"sub-taxonomic \"\n)\nbind_rows(species_tab1, species_tab2) %&gt;%\n  write_tsv(\"data/derived_data/species_correction_table_v2.tsv\")\ncorrected &lt;- read_tsv(\"data/derived_data/raw_taxo_preped_v2.tsv\") %&gt;%\n  rename(\n    scientific_raw = scientific, vernacular_raw = vernacular,\n    family_raw = family, genus_raw = genus, species_raw = species\n  ) %&gt;%\n  left_join(read_tsv(\"data/derived_data/family_correction_table_v2.tsv\")) %&gt;%\n  mutate(family_corrected = ifelse(is.na(family_reason),\n    family_raw, family_corrected\n  )) %&gt;%\n  left_join(read_tsv(\"data/derived_data/genus_correction_table_v2.tsv\")) %&gt;%\n  mutate(genus_corrected = ifelse(is.na(genus_reason),\n    genus_raw, genus_corrected\n  )) %&gt;%\n  left_join(read_tsv(\"data/derived_data/species_correction_table_v2.tsv\")) %&gt;%\n  mutate(species_corrected = ifelse(is.na(species_reason),\n    species_raw, species_corrected\n  ))\nwrite_tsv(corrected, \"data/derived_data/corrected_taxo_v2.tsv\")\n\n\n\n\nCode\nread_tsv(\"data/derived_data/corrected_taxo_v2.tsv\") %&gt;%\n  select(family_reason, genus_reason, species_reason) %&gt;%\n  gather(\"level\", \"reason\") %&gt;%\n  na.omit() %&gt;%\n  group_by(level, reason) %&gt;%\n  summarise(corrections = n()) %&gt;%\n  kable(\n    format.args = list(big.mark = \",\"),\n    caption = \"Number of corrections per level and reason.\"\n  )\n\n\n\nNumber of corrections per level and reason.\n\n\nlevel\nreason\ncorrections\n\n\n\n\nfamily_reason\nmissing\n3\n\n\nfamily_reason\nunidentified\n1,035\n\n\ngenus_reason\nfamily-only\n1,483\n\n\ngenus_reason\nmissing\n48\n\n\ngenus_reason\nunidentified\n2\n\n\nspecies_reason\nsub-taxonomic\n61\n\n\nspecies_reason\nundescribed\n223\n\n\nspecies_reason\nunidentified\n2,594"
  },
  {
    "objectID": "12_cleaned.html#world-flora-online-wfo",
    "href": "12_cleaned.html#world-flora-online-wfo",
    "title": "Cleaning",
    "section": "World Flora Online (WFO)",
    "text": "World Flora Online (WFO)\nWe used WorldFlora and fuzzyjoin for synonymy and misspelling corrections. Beware, the R package is very memory consuming and I used batches of species names in the code. you might want to adapt it to the capacity of your computer. I also subsampled the backbones to the family list from the data to increase speed, but this might not be optimal.\n\n\nCode\nlibrary(WorldFlora)\nlibrary(fuzzyjoin)\nbatch_size &lt;- 200\ndir.create(\"data/derived_data/wfo\")\nfamilies &lt;- read_tsv(\"data/derived_data/corrected_taxo_v2.tsv\") %&gt;%\n  select(family_corrected) %&gt;%\n  unique()\nwfo &lt;- read_tsv(\"data/raw_data/WFO_Backbone.zip\")\nwfo_sub &lt;- wfo %&gt;%\n  filter(family %in% c(\n    families$family_corrected,\n    \"Huaceae\", \" Zygophyllaceae\", \"Ctenolophonaceae\",\n    \"Lepidobotryaceae\", \"Thomandersiaceae\"\n  ))\nwrite_tsv(wfo_sub, \"data/derived_data/wfo/backbone.tsv\")\ntaxo &lt;- read_tsv(\"data/derived_data/corrected_taxo_v2.tsv\") %&gt;%\n  filter(!is.na(genus_corrected)) %&gt;%\n  mutate(species_corrected = ifelse(is.na(species_corrected),\n    \"\", species_corrected\n  )) %&gt;%\n  transmute(scientific = paste(genus_corrected, species_corrected)) %&gt;%\n  arrange(scientific) %&gt;%\n  unique()\nn_batch &lt;- ceiling(nrow(taxo) / batch_size)\ntaxo &lt;- taxo %&gt;%\n  mutate(batch = rep(seq_len(n_batch), each = batch_size)[seq_len(n())])\nwrite_tsv(taxo, \"data/derived_data/wfo/taxo.tsv\")\nfor (i in 1:n_batch) {\n  rm(taxo, cleaned)\n  gc()\n  taxo &lt;- read_tsv(\"data/derived_data/wfo/taxo.tsv\") %&gt;%\n    filter(batch == i)\n  cleaned &lt;- WFO.match.fuzzyjoin(\n    spec.data = taxo$scientific,\n    WFO.file = \"data/derived_data/wfo/backbone.tsv\"\n  )\n  write_tsv(\n    cleaned,\n    paste0(\"data/derived_data/wfo/wfo_out_v2_part\", i, \".tsv\")\n  )\n}\nunlink(\"data/derived_data/wfo/taxo.tsv\")\nunlink(\"data/derived_data/wfo/backbone.tsv\")\ncleaned &lt;- read_tsv(list.files(\"data/derived_data/wfo\", full.names = TRUE))\nwrite_tsv(cleaned, \"data/derived_data/wfo_out_v2.tsv\")\nunlink(\"data/derived_data/wfo\", recursive = TRUE)\n\n\n2,693 species matched a species from the World Flora Online (WFO) except 8 that can be cured manually:\n\n\nCode\nwfo &lt;- read_tsv(\"data/derived_data/wfo_out_v2.tsv\")\nwfo %&gt;%\n  group_by(spec.name) %&gt;%\n  summarise(matched = all(Matched)) %&gt;%\n  group_by(matched) %&gt;%\n  summarise(N = n(), names = ifelse(!matched, paste(spec.name), \"\")) %&gt;%\n  unique() %&gt;%\n  kable(\n    format.args = list(big.mark = \",\"),\n    caption = \"Number of matched and unmatched species.\"\n  )\n\n\n\nNumber of matched and unmatched species.\n\n\nmatched\nN\nnames\n\n\n\n\nFALSE\n8\nAlseodaphne ceratoxylon\n\n\nFALSE\n8\nAlseodaphne havilandii\n\n\nFALSE\n8\nBalanites wilsoniana\n\n\nFALSE\n8\nBrosimum obovata\n\n\nFALSE\n8\nChrysophyllum pachycarpa\n\n\nFALSE\n8\nFernandoa adolfi\n\n\nFALSE\n8\nHandroanthus campestris\n\n\nFALSE\n8\nPalaquium cochlariflorum\n\n\nTRUE\n2,693\n\n\n\n\n\n\nAmong matched species, most were exact (not fuzzy misspelled species) and with a single match in WFO, still 154 had multiple matches and 292 were fuzzy misspelled species, both to investigate:\n\n\nCode\nwfo %&gt;%\n  filter(Matched) %&gt;%\n  group_by(spec.name) %&gt;%\n  summarise(fuzzy = all(Fuzzy), unique = all(Unique)) %&gt;%\n  group_by(fuzzy, unique) %&gt;%\n  summarise(N = n()) %&gt;%\n  mutate(\n    fuzzy = ifelse(fuzzy, \"fuzzy\", \"exact\"),\n    unique = ifelse(unique, \"unique\", \"multiple\")\n  ) %&gt;%\n  pivot_wider(names_from = \"unique\", values_from = \"N\") %&gt;%\n  kable(\n    format.args = list(big.mark = \",\"),\n    caption = \"Number of fuzzy and unique species.\"\n  )\n\n\n\nNumber of fuzzy and unique species.\n\n\nfuzzy\nmultiple\nunique\n\n\n\n\nexact\n154\n2,247\n\n\nfuzzy\n43\n249"
  },
  {
    "objectID": "12_cleaned.html#manual-curation",
    "href": "12_cleaned.html#manual-curation",
    "title": "Cleaning",
    "section": "Manual curation",
    "text": "Manual curation\nThe 8 species that did not match WFO were manually cured by searching manually on WFO and on the web. Some were missed because lacking the family name in the WFO backbone subset, some do not matched species names, some used the subspecies names, and other were really misspelled.\n\n\nCode\nmanual_curration &lt;- data.frame(\n  scientific_corrected = c(\n    \"Alseodaphne ceratoxylon\",\n    \"Alseodaphne havilandii\",\n    \"Balanites wilsoniana\",\n    \"Brosimum obovata\",\n    \"Chrysophyllum pachycarpa\",\n    \"Fernandoa adolfi\",\n    \"Handroanthus campestris\",\n    \"Palaquium cochlariflorum\"\n  ),\n  family_cleaned = c(\n    \"Lauraceae\",\n    \"Lauraceae\",\n    \"Moraceae\",\n    \"Zygophyllaceae\",\n    \"Sapotaceae\",\n    \"Bignoniaceae\",\n    \"Bignoniaceae\",\n    \"Sapotaceae\"\n  ),\n  genus_cleaned = c(\n    \"Alseodaphne\",\n    \"Alseodaphne\",\n    \"Brosimum\",\n    \"Balanites\",\n    \"Chrysophyllum\",\n    \"Fernandoa\",\n    \"Handroanthus\",\n    \"Palaquium\"\n  ),\n  species_cleaned = c(\n    NA,\n    NA,\n    \"acutifolium\",\n    \"obovata\",\n    \"lucentifolium\",\n    \"adolfi-friderici\",\n    NA,\n    \"cochleariifolium\"\n  ),\n  cleaning_type = \"manual curration\",\n  cleaning_comment = c(\n    \"unknown species on wfo\",\n    \"unknown species on wfo\",\n    \"Brosimum acutifolium subsp.\",\n    \"missing family in wfo subset\",\n    \"Chrysophyllum lucentifolium subsp. pachycarpum\",\n    \"issue with the - in species name\",\n    \"unknown species on wfo\",\n    \"very misspelled\"\n  )\n)\nkable(manual_curration, caption = \"Manually curated taxonomy that did not match WFO.\") # nolint\n\n\n\nManually curated taxonomy that did not match WFO.\n\n\n\n\n\n\n\n\n\n\nscientific_corrected\nfamily_cleaned\ngenus_cleaned\nspecies_cleaned\ncleaning_type\ncleaning_comment\n\n\n\n\nAlseodaphne ceratoxylon\nLauraceae\nAlseodaphne\nNA\nmanual curration\nunknown species on wfo\n\n\nAlseodaphne havilandii\nLauraceae\nAlseodaphne\nNA\nmanual curration\nunknown species on wfo\n\n\nBalanites wilsoniana\nMoraceae\nBrosimum\nacutifolium\nmanual curration\nBrosimum acutifolium subsp.\n\n\nBrosimum obovata\nZygophyllaceae\nBalanites\nobovata\nmanual curration\nmissing family in wfo subset\n\n\nChrysophyllum pachycarpa\nSapotaceae\nChrysophyllum\nlucentifolium\nmanual curration\nChrysophyllum lucentifolium subsp. pachycarpum\n\n\nFernandoa adolfi\nBignoniaceae\nFernandoa\nadolfi-friderici\nmanual curration\nissue with the - in species name\n\n\nHandroanthus campestris\nBignoniaceae\nHandroanthus\nNA\nmanual curration\nunknown species on wfo\n\n\nPalaquium cochlariflorum\nSapotaceae\nPalaquium\ncochleariifolium\nmanual curration\nvery misspelled"
  },
  {
    "objectID": "12_cleaned.html#misspelling-fuzzy",
    "href": "12_cleaned.html#misspelling-fuzzy",
    "title": "Cleaning",
    "section": "Misspelling (fuzzy)",
    "text": "Misspelling (fuzzy)\nBy default WorldFlora limits fuzzy distance to 4, which seems more than acceptable and could be increased. Indeed one of the unmatched species, Palaquium cochlariflorum might be Palaquium cochleariifolium with a fuzzy distance of 6, but this can also be dealt with manually.\n\n\nCode\nwfo %&gt;%\n  filter(Matched, Fuzzy) %&gt;%\n  group_by(spec.name) %&gt;%\n  summarise(fuzzy_dist = unique(Fuzzy.dist)) %&gt;%\n  group_by(fuzzy_dist) %&gt;%\n  summarise(N = n()) %&gt;%\n  kable(caption = \"Number of misspelled species by the number of misspelled letters.\") # nolint\n\n\n\nNumber of misspelled species by the number of misspelled letters.\n\n\nfuzzy_dist\nN\n\n\n\n\n1\n149\n\n\n2\n86\n\n\n3\n35\n\n\n4\n22\n\n\n\n\n\nHowever, among the misspelled species with multiple matches, 4 have multiple newly accepted names:\n\n\nCode\nwfo %&gt;%\n  filter(Matched, Fuzzy, !Unique, New.accepted) %&gt;%\n  select(spec.name, scientificName) %&gt;%\n  unique() %&gt;%\n  group_by(spec.name) %&gt;%\n  filter(n() &gt; 1) %&gt;%\n  summarise(scientificName = paste0(scientificName, collapse = \", \")) %&gt;%\n  kable(caption = \"Fuzzy match with multiple newly accepted names.\")\n\n\n\nFuzzy match with multiple newly accepted names.\n\n\n\n\n\n\nspec.name\nscientificName\n\n\n\n\nAglaia cordifolia\nAcacia hastulata, Tilia platyphyllos subsp. cordifolia, Aglaia exstipulata, Aglaia elaeagnoidea, Macaranga cordifolia\n\n\nCeltis adolfi\nCeltis jessoensis, Trema micranthum, Celtis tetrandra, Celtis iguanaea\n\n\nDrypetes Vahl\nDrypetes venusta, Drypetes natalensis var. natalensis, Drypetes floribunda\n\n\nEnademia\nGrevillea, Crateva\n\n\nKnema tomentosa\nDesmos cochinchinensis, Maesa macrophylla, Pergularia tomentosa, Palicourea tomentosa, Urena lobata subsp. lobata, Urena lobata subsp. sinuata\n\n\nMeasopsis\nMarrubium, Fraxinus\n\n\nMezzetia parvifolia\nDistimake quinquefolius, Marcetia canescens\n\n\nParopsia guineensis\nChamaecrista mimosoides, Carapa procera, Garcinia smeathmanii\n\n\nPolyosma\nBernardia, Clausena, Hygrophila, Psychotria, Ptyssiglottis, Lachenalia, Artocarpus, Trigonella, Asclepias, Dipteryx\n\n\nPouteria eyma\nPouteria cuspidata subsp. dura, Pleioluma firma, Elaeoluma nuda, Micropholis guyanensis subsp. guyanensis\n\n\nRandia Longflora\nOxyceros longiflorus, Euclinia longiflora, Rothmannia longiflora\n\n\nShorea Parvifolia\nRubroshorea parvifolia, Rubroshorea ovata\n\n\nSolanum granulosum\nLycianthes pauciflora, Solanum, Lycianthes glandulosa\n\n\nSolanum sanctae\nSolanum incanum, Solanum, Solanum torvum"
  },
  {
    "objectID": "12_cleaned.html#synonymy-multiple-matches",
    "href": "12_cleaned.html#synonymy-multiple-matches",
    "title": "Cleaning",
    "section": "Synonymy (multiple matches)",
    "text": "Synonymy (multiple matches)\nSimilarly, among the correctly spelled species with multiple matches, 6 have multiple newly accepted names:\n\n\nCode\nwfo %&gt;%\n  filter(Matched, !Fuzzy, !Unique, New.accepted) %&gt;%\n  select(spec.name, scientificName) %&gt;%\n  unique() %&gt;%\n  group_by(spec.name) %&gt;%\n  filter(n() &gt; 1) %&gt;%\n  summarise(scientificName = paste0(scientificName, collapse = \", \")) %&gt;%\n  kable(caption = \"Exact match with multiple newly accepted names.\")\n\n\n\nExact match with multiple newly accepted names.\n\n\n\n\n\n\nspec.name\nscientificName\n\n\n\n\nAcacia polyphylla\nSenegalia polyphylla, Parasenegalia visco\n\n\nAglaia edulis\nAglaia samoensis, Aglaia saltatorum\n\n\nCallicarpa tomentosa\nCallicarpa kochiana var. kochiana, Callicarpa macrophylla, Callicarpa candicans var. candicans\n\n\nEugenia racemosa\nEugenia biflora, Barringtonia racemosa\n\n\nFicus anthelminthica\nFicus maxima, Ficus insipida, Ficus obtusiuscula\n\n\nPterocarpus\nDerris, Pterocarpus, Dalbergia\n\n\nShorea leprosula\nRubroshorea leprosula, Rubroshorea platycarpa\n\n\nShorea parvifolia\nRubroshorea parvifolia, Rubroshorea ovata\n\n\nXylopia frutescens\nAnnona squamosa, Xylopia muricata"
  },
  {
    "objectID": "12_cleaned.html#synonymy-misspelling-corrections",
    "href": "12_cleaned.html#synonymy-misspelling-corrections",
    "title": "Cleaning",
    "section": "Synonymy & misspelling corrections",
    "text": "Synonymy & misspelling corrections\n\n⚠️ Multiple newly accepted names should be discussed.\n\nHowever, for the moment we will randomly select the first newly accepted name in this case. We will thus correct synonymy and misspelling by:\n\nUsing closest correct spelling\nAccepting single exact matches\nAccepting single newly accepted names for multiple matches\nAccepting the first newly accepted names for multiple matches in case of multiples (to be changed later)\nUsing manual curation for species not matched\n\n\n\nCode\nwfo &lt;- read_tsv(\"data/derived_data/wfo_out_v2.tsv\") %&gt;%\n  filter(Matched)\n\n\nRows: 2974 Columns: 43\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \"\\t\"\nchr (28): spec.name, spec.name.ORIG, taxonID, scientificNameID, localID, sci...\ndbl  (3): Fuzzy.dist, OriSeq, Subseq\nlgl (12): Squished, Brackets.detected, Number.detected, Unique, Matched, Fuz...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\n\nCode\nwfo_exact &lt;- wfo %&gt;%\n  filter(Unique)\nwfo_mult &lt;- wfo %&gt;%\n  filter(!Unique) %&gt;%\n  group_by(spec.name) %&gt;%\n  filter(New.accepted) %&gt;%\n  sample_n(1)\nwfo_clean &lt;- bind_rows(wfo_exact, wfo_mult) %&gt;%\n  select(\n    spec.name, family, genus, specificEpithet,\n    scientificName\n  ) %&gt;%\n  rename(\n    scientific_corrected = spec.name,\n    family_cleaned = family,\n    genus_cleaned = genus,\n    species_cleaned = specificEpithet,\n    scientific_cleaned = scientificName\n  ) %&gt;%\n  mutate(\n    cleaning_type = \"wfo automatic\",\n    cleaning_comment = NA\n  ) %&gt;%\n  bind_rows(manual_curration)\ntaxo_cleaned &lt;- read_tsv(\"data/derived_data/corrected_taxo_v2.tsv\") %&gt;%\n  mutate(scientific_corrected = ifelse(!is.na(genus_corrected),\n    paste(\n      genus_corrected,\n      ifelse(!is.na(species_corrected),\n        species_corrected,\n        \"\"\n      )\n    ), NA\n  )) %&gt;%\n  left_join(wfo_clean)\n\n\nRows: 10842 Columns: 12\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \"\\t\"\nchr (12): site, scientific_raw, vernacular_raw, family_raw, genus_raw, speci...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\nJoining with `by = join_by(scientific_corrected)`\n\n\nCode\nwrite_tsv(taxo_cleaned, \"outputs/taxonomy_v2.tsv\")\n\n\n\n\nCode\nclean &lt;- read_tsv(\"outputs/taxonomy_v2.tsv\")\nfam_cor &lt;- select(clean, family_corrected, family_cleaned) %&gt;%\n  unique() %&gt;%\n  na.omit() %&gt;%\n  filter(family_corrected != family_cleaned)\ngen_cor &lt;- select(clean, genus_corrected, genus_cleaned) %&gt;%\n  unique() %&gt;%\n  na.omit() %&gt;%\n  filter(genus_corrected != genus_cleaned)\nsp_cor &lt;- select(clean, species_corrected, species_cleaned) %&gt;%\n  unique() %&gt;%\n  na.omit() %&gt;%\n  filter(species_corrected != species_cleaned)\ndata.frame(\n  level = c(\"family\", \"genus\", \"species\"),\n  N = c(nrow(fam_cor), nrow(gen_cor), nrow(sp_cor))\n) %&gt;%\n  kable(caption = \"Number of synonymy, misspelling, and update corrections per taxonomic level\") # nolint\n\n\n\nNumber of synonymy, misspelling, and update corrections per taxonomic level\n\n\nlevel\nN\n\n\n\n\nfamily\n82\n\n\ngenus\n177\n\n\nspecies\n408"
  },
  {
    "objectID": "12_cleaned.html#taxonomic-data",
    "href": "12_cleaned.html#taxonomic-data",
    "title": "Cleaning",
    "section": "Taxonomic data",
    "text": "Taxonomic data\nAll taxonomic data are saved in outputs/axonomy_v2.tsv with the following columns:\n\nsite: the site name\nscientific_*: all columns with the scientific name\nvernacular_*: all columns with the vernacular name\nfamily_*: all columns with the family name\ngenus_*: all columns with the genus name\nspecies_*: all columns with the species name\n*_raw: all columns with the raw information as read in the inventories, see analyses\n*_corrected: all columns with the manual corrections of dubious names, see analyses\n*_cleaned: all columns with the synonymy and misspelling corrections with WFO and manual corrections, see analyses, this is the final taxonomic classification that should be used in further analyses\n*_reason: the reason for manual corrections of dubious names, see analyses\ncleaning_type: WFO automatic cleaning or using manual curation\ncleaning_comment: the reason for manual curation"
  },
  {
    "objectID": "13_phylogeny.html#phylogenic-data",
    "href": "13_phylogeny.html#phylogenic-data",
    "title": "Phylogeny",
    "section": "Phylogenic data",
    "text": "Phylogenic data\nThe full phylogeny is saved in outputs/phylogeny_v2.tree in parenthetic format using the Newick (also known as New Hampshire) format."
  },
  {
    "objectID": "14_functional.html#wood-density",
    "href": "14_functional.html#wood-density",
    "title": "Functional",
    "section": "Wood density",
    "text": "Wood density\nUsing BIOMASS (Réjou-Méchain et al. 2017), we retrieved wood density for most species, with little differences between sites means.\n\n\nCode\ntaxo &lt;- read_tsv(\"outputs/taxonomy_v2.tsv\")\nwd &lt;- getWoodDensity(taxo$genus_cleaned, taxo$species_cleaned) %&gt;%\n  group_by(genus, species) %&gt;%\n  summarise(wd = mean(meanWD)) %&gt;%\n  na.omit() %&gt;%\n  rename(genus_cleaned = genus, species_cleaned = species)\ntaxo_wd &lt;- left_join(taxo, wd)\ng1 &lt;- ggplot(taxo_wd, aes(wd, col = site)) +\n  geom_density() +\n  theme_bw() +\n  xlab(expression(\"Wood Density [\" ~ g / cm^3 ~ \"]\"))\ng2 &lt;- ggplot(taxo_wd, aes(site, wd, col = site)) +\n  geom_violin() +\n  geom_boxplot(width = .2) +\n  coord_flip() +\n  theme_bw() +\n  theme(\n    legend.position = \"none\",\n    axis.text.y = element_blank(),\n    axis.ticks.y = element_blank()\n  ) +\n  ylab(expression(\"Wood Density [\" ~ g / cm^3 ~ \"]\"))\ncowplot::plot_grid(g1, g2, nrow = 2)\n\n\n\n\n\nWood density extracted from Réjou-Méchain et al. (2017)."
  },
  {
    "objectID": "14_functional.html#try",
    "href": "14_functional.html#try",
    "title": "Functional",
    "section": "TRY",
    "text": "TRY\nIn order to make a request for data on TRY (Kattge et al. 2019), we first retrieved the total species list available from TRY and matched our species to their species list to obtain corresponding species ID on TRY. By chance TRY is also using WordFlora reference. But they limit the requests to 200 species. We thus retrieved available species data by batch of 200 (see example below).\n\n\nCode\ntry_sp &lt;- read_tsv(\"outputs/taxonomy_v2.tsv\") %&gt;%\n  select(scientific_cleaned) %&gt;%\n  na.omit() %&gt;%\n  unique() %&gt;%\n  left_join(read_tsv(\"data/raw_data/TryAccSpecies.txt\"),\n    by = c(\"scientific_cleaned\" = \"AccSpeciesName\")\n  )\nsp_req &lt;- try_sp %&gt;%\n  select(AccSpeciesID) %&gt;%\n  na.omit() %&gt;%\n  unique() %&gt;%\n  arrange() %&gt;%\n  mutate(request = rep(1:100, each = 200)[seq_len(n())]) %&gt;%\n  group_by(request) %&gt;%\n  summarise(species_list = paste0(AccSpeciesID, collapse = \", \"))\nwrite_tsv(sp_req, \"data/derived_data/try_species_requests.tsv\")\n\n\n\n\nCode\nread_tsv(\"data/derived_data/try_species_requests.tsv\", n_max = 1) %&gt;%\n  kable(caption = \"Example of species ID list for TRY Data Explorer requests (limited to 200) for the first chunk.\") # nolint\n\n\n\nExample of species ID list for TRY Data Explorer requests (limited to 200) for the first chunk.\n\n\n\n\n\n\nrequest\nspecies_list\n\n\n\n\n1\n53035, 8582, 14866, 53654, 14156, 15557, 27269, 56630, 29126, 52505, 31260, 30552, 4136, 17195, 8580, 32629, 39236, 8980, 3147, 86888, 52969, 38544, 30609, 27124, 36681, 39724, 26812, 40311, 36684, 37540, 46572, 34387, 44223, 22256, 49908, 13692, 430788, 33337, 44232, 5583, 30895, 12681, 43766, 54284, 30632, 33380, 52899, 246054, 56788, 12678, 11219, 14450, 18719, 14882, 56617, 33288, 24884, 38616, 34870, 20736, 408207, 50321, 54536, 54783, 103114, 40645, 35216, 30904, 44986, 25648, 52844, 40368, 41051, 22281, 32634, 430797, 30624, 52895, 44853, 37333, 43959, 43542, 33334, 21888, 26519, 38552, 45280, 29808, 20479, 15619, 40831, 19480, 55518, 47684, 19696, 55524, 36897, 44855, 55866, 56813, 52968, 92496, 43763, 4160, 7610, 10273, 17778, 40357, 11353, 56697, 27177, 57266, 38516, 53047, 29162, 22272, 50499, 46274, 54663, 43873, 57627, 52436, 30575, 14860, 43767, 39875, 32613, 14890, 21873, 99866, 29834, 74946, 5605, 52900, 12272, 33343, 27264, 8569, 39234, 42597, 84130, 10716, 40823, 40360, 11365, 40231, 11345, 44590, 43958, 37888, 8576, 18800, 101052, 53039, 35441, 32627, 3383, 50390, 39604, 29655, 57424, 56781, 35358, 55852, 35649, 54098, 11952, 3878, 34856, 51769, 36686, 38676, 38574, 3877, 50523, 33335, 5937, 6614, 19578, 22258, 52390, 3446, 51785, 22261, 38551, 43836, 33295, 43828, 13282, 32615, 50507, 54280, 29811, 43810, 19522, 30614, 2458, 40367, 35446, 25858\n\n\n\n\n\nNext we could investigate trait data available for more than 40% of species, which were not many.\n\n\nCode\nlist.files(\"data/derived_data/try_req/\", full.names = TRUE) %&gt;%\n  lapply(read_tsv, skip = 3) %&gt;%\n  lapply(gather, species, N, -Trait, -TraitID) %&gt;%\n  bind_rows() %&gt;%\n  filter(N &gt; 0) %&gt;%\n  group_by(Trait, TraitID) %&gt;%\n  summarise(N = n()) %&gt;%\n  filter(N &gt; 0.4 * 1901) %&gt;%\n  ggplot(aes(fct_rev(fct_infreq(Trait, N)), N)) +\n  geom_point() +\n  theme_bw() +\n  coord_flip() +\n  theme(axis.title = element_blank())\n\n\n\n\n\nTraits available for at least 50% of species available on TRY.\n\n\n\n\nFor the first test we thus used:\n\n14: Leaf nitrogen (N) content per leaf dry mass, mg/g\n3117: Leaf area per leaf dry mass (specific leaf area, SLA or 1/LMA): undefined if petiole is in- or excluded, mm2 mg-1\n4: Stem specific density (SSD, stem dry mass per stem fresh volume) or wood density, g/cm3\n28: Dispersal syndrome\n3114: Leaf area (in case of compound leaves: leaflet, undefined if petiole is in- or excluded), mm2\n\n\nThe request takes times to be ready. Moreover, we should try to minimise the number of requests. This was a first test. But future tests should be discussed before.\n\n\n\nCode\ntaxo &lt;- read_tsv(\"outputs/taxonomy_v2.tsv\")\ntry &lt;- read_tsv(\"data/raw_data/37729/37729.txt\") %&gt;%\n  select(AccSpeciesName, TraitName, StdValue) %&gt;%\n  na.omit() %&gt;%\n  rename(species = AccSpeciesName, trait = TraitName, value = StdValue) %&gt;%\n  group_by(species, trait) %&gt;%\n  summarise(value = mean(value)) %&gt;%\n  mutate(trait = recode(trait,\n    \"Stem specific density (SSD, stem dry mass per stem fresh volume) or wood density\" = \"wd\", # nolint\n    \"Leaf area per leaf dry mass (specific leaf area, SLA or 1/LMA): undefined if petiole is in- or excluded\" = \"sla\", # nolint\n    \"Leaf nitrogen (N) content per leaf dry mass\" = \"n\",\n    \"Leaf area (in case of compound leaves undefined if leaf or leaflet, undefined if petiole is in- or excluded)\" = \"la\"\n  )) %&gt;%\n  pivot_wider(values_from = \"value\", names_from = \"trait\")\ntaxo_try &lt;- left_join(taxo, try, by = c(\"scientific_cleaned\" = \"species\"))\n\n\nWe obtained numerous data across species for SLA, WD, and N:\n\n\nCode\ng1 &lt;- ggplot(taxo_try, aes(wd, col = site)) +\n  geom_density() +\n  theme_bw() +\n  xlab(expression(\"Wood Density [\" ~ g / cm^3 ~ \"]\"))\ng2 &lt;- ggplot(taxo_try, aes(site, wd, col = site)) +\n  geom_violin() +\n  geom_boxplot(width = .2) +\n  coord_flip() +\n  theme_bw() +\n  theme(\n    legend.position = \"none\",\n    axis.text.y = element_blank(),\n    axis.ticks.y = element_blank()\n  ) +\n  ylab(expression(\"Wood Density [\" ~ g / cm^3 ~ \"]\"))\ncowplot::plot_grid(g1, g2, nrow = 2)\n\n\n\n\n\nWood density extracted from Kattge et al. (2019).\n\n\n\n\n\n\nCode\ng1 &lt;- ggplot(taxo_try, aes(sla, col = site)) +\n  geom_density() +\n  theme_bw() +\n  xlab(expression(\"Specific Leaf Area [\" ~ mm^2 ~ mg^{\n    -1\n  } ~ \"]\")) +\n  scale_x_log10()\ng2 &lt;- ggplot(taxo_try, aes(site, sla, col = site)) +\n  geom_violin() +\n  geom_boxplot(width = .2) +\n  coord_flip() +\n  theme_bw() +\n  theme(\n    legend.position = \"none\",\n    axis.text.y = element_blank(),\n    axis.ticks.y = element_blank()\n  ) +\n  ylab(expression(\"Specific Leaf Area [\" ~ mm^2 ~ mg^{\n    -1\n  } ~ \"]\")) +\n  scale_y_log10()\ncowplot::plot_grid(g1, g2, nrow = 2)\n\n\n\n\n\nSpecific leaf area extracted from Kattge et al. (2019).\n\n\n\n\n\n\nCode\ng1 &lt;- ggplot(taxo_try, aes(la, col = site)) +\n  geom_density() +\n  theme_bw() +\n  xlab(expression(\"Leaf Area [\" ~ mm^2 ~ \"]\")) +\n  scale_x_log10()\ng2 &lt;- ggplot(taxo_try, aes(site, la, col = site)) +\n  geom_violin() +\n  geom_boxplot(width = .2) +\n  coord_flip() +\n  theme_bw() +\n  theme(\n    legend.position = \"none\",\n    axis.text.y = element_blank(),\n    axis.ticks.y = element_blank()\n  ) +\n  ylab(expression(\"Leaf Area [\" ~ mm^2 ~ \"]\")) +\n  scale_y_log10()\ncowplot::plot_grid(g1, g2, nrow = 2)\n\n\n\n\n\nLeaf area extracted from Kattge et al. (2019).\n\n\n\n\n\n\nCode\ng1 &lt;- ggplot(taxo_try, aes(n, col = site)) +\n  geom_density() +\n  theme_bw() +\n  xlab(expression(\"Nitrogen [\" ~ mg / g ~ \"]\"))\ng2 &lt;- ggplot(taxo_try, aes(site, n, col = site)) +\n  geom_violin() +\n  geom_boxplot(width = .2) +\n  coord_flip() +\n  theme_bw() +\n  theme(\n    legend.position = \"none\",\n    axis.text.y = element_blank(),\n    axis.ticks.y = element_blank()\n  ) +\n  ylab(expression(\"Nitrogen [\" ~ mg / g ~ \"]\"))\ncowplot::plot_grid(g1, g2, nrow = 2)\n\n\n\n\n\nLeaf nitrogen extracted from Kattge et al. (2019)."
  },
  {
    "objectID": "14_functional.html#tallo",
    "href": "14_functional.html#tallo",
    "title": "Functional",
    "section": "Tallo",
    "text": "Tallo\nUsing TALLO (Jucker et al. 2022), we retrieved tree diameter and height measurements for 730 species from our dataset:\n\n\nCode\ntallo &lt;- read_tsv(\"outputs/taxonomy_v2.tsv\") %&gt;%\n  select(scientific_cleaned) %&gt;%\n  na.omit() %&gt;%\n  unique() %&gt;%\n  left_join(read_csv(\"data/raw_data/Tallo.csv?download=1\"),\n    by = c(\"scientific_cleaned\" = \"species\")\n  ) %&gt;%\n  filter(!is.na(tree_id))\ntallo %&gt;%\n  ggplot(aes(stem_diameter_cm, height_m)) +\n  geom_point(aes(col = scientific_cleaned), alpha = 0.25) +\n  theme_bw() +\n  geom_smooth(formula = y ~ log(x)) +\n  scale_color_discrete(guide = \"none\") +\n  xlab(\"diameter (cm)\") +\n  ylab(\"height (m)\") +\n  ggtitle(\"TALLO\", paste(length(unique(tallo$scientific_cleaned)), \"species\"))\n\n\n\n\n\nHeight-diameter relation for species of our datasets in TALLO.\n\n\n\n\nWe inferred species maximum height hmax and the allometric parameter ah using the following allometry in brms:\n\\[\n\\begin{array}{c}\nlog(height) \\sim N [ log(h_{max,s} \\times \\frac{dbh}{a_{h,s}+dbh^2}), \\sigma^2] \\\\\nh_{max,s} \\sim N (h_{max}, \\sigma_h^2) \\\\\na_{h,s} \\sim N (a_{h}, \\sigma_a^2)\n\\end{array}\n\\]\n\n\nCode\nlibrary(brms)\nlibrary(tidybayes)\nmdata &lt;- read_tsv(\"outputs/taxonomy_v2.tsv\") %&gt;%\n  select(scientific_cleaned) %&gt;%\n  na.omit() %&gt;%\n  unique() %&gt;%\n  left_join(read_csv(\"data/raw_data/Tallo.csv?download=1\"),\n    by = c(\"scientific_cleaned\" = \"species\")\n  ) %&gt;%\n  filter(!is.na(tree_id)) %&gt;%\n  select(scientific_cleaned, height_m, stem_diameter_cm) %&gt;%\n  rename(h = height_m, d = stem_diameter_cm) %&gt;%\n  mutate(d = d / 100) %&gt;%\n  na.omit()\nfit &lt;- brm(\n  bf(log(h) ~ log(hmax * (d / (ah + d))),\n    hmax ~ 1 + 1 | scientific_cleaned,\n    ah ~ 1 + 1 | scientific_cleaned,\n    nl = TRUE\n  ),\n  prior = c(\n    prior(normal(40, 10), lb = 10, nlpar = \"hmax\"),\n    prior(normal(0.5, 0.5), lb = 0, nlpar = \"ah\")\n  ),\n  data = mdata, chains = 2, cores = 2, threads = 10\n)\nsave(mdata, fit, file = \"data/derived_data/tallo_brms.Rdata\")\nfit %&gt;%\n  spread_draws(\n    b_hmax_Intercept, r_scientific_cleaned__hmax[scientific_cleaned, ],\n    b_ah_Intercept, r_scientific_cleaned__ah[scientific_cleaned, ]\n  ) %&gt;%\n  mutate(ah = b_ah_Intercept + r_scientific_cleaned__ah) %&gt;%\n  mutate(hmax = b_hmax_Intercept + r_scientific_cleaned__hmax) %&gt;%\n  group_by(scientific_cleaned) %&gt;%\n  summarise(ah = median(ah), hmax = median(hmax)) %&gt;%\n  mutate(scientific_cleaned = gsub(\".\", \" \",\n    scientific_cleaned,\n    fixed = TRUE\n  )) %&gt;%\n  write_tsv(\"data/derived_data/tallo_pars.tsv\")\n\n\nWe had good convergence and good post-predictive checks.\n\n\nCode\nload(\"data/derived_data/tallo_brms.Rdata\")\nmcmc_rhat(bayesplot::rhat(fit$fit))\n\n\n\n\n\nGoodness of convergence assessed by Rhat. All Rhat are below 1.05 indicating a very good convergence of all chains.\n\n\n\n\n\n\nCode\nload(\"data/derived_data/tallo_brms.Rdata\")\npp_check(fit)\n\n\n\n\n\nPosterior post-predictive check of simulated response variable against observed values indicating a good representation of the whole distribution in posteriors.\n\n\n\n\nWe thus inferred 730 (ah,hmax) couple of parameters.\n\n\nCode\nload(\"data/derived_data/tallo_brms.Rdata\")\nsjPlot::tab_model(fit)\n\n\n\n\n\n \nlog(h)\n\n\nPredictors\nEstimates\nCI (95%)\n\n\nhmax_Intercept\n41.47\n40.31 – 42.68\n\n\nah_Intercept\n0.27\n0.25 – 0.28\n\n\nObservations\n20463\n\n\nR2 Bayes\n0.885\n\n\n\n\n\n\n\n\n\nCode\nread_tsv(\"outputs/taxonomy_v2.tsv\") %&gt;%\n  left_join(read_tsv(\"data/derived_data/tallo_pars.tsv\")) %&gt;%\n  filter(!is.na(ah)) %&gt;%\n  ggplot(aes(ah, hmax)) +\n  geom_point() +\n  theme_bw() +\n  facet_wrap(~site) +\n  xlab(expression(a[h])) +\n  ylab(expression(h[max]))\n\n\n\n\n\nInferred species allometric parameters hmax and ah and their relations per site.\n\n\n\n\n\n\nCode\ntaxo_hmax &lt;- read_tsv(\"outputs/taxonomy_v2.tsv\") %&gt;%\n  left_join(read_tsv(\"data/derived_data/tallo_pars.tsv\")) %&gt;%\n  filter(!is.na(hmax))\ng1 &lt;- ggplot(taxo_hmax, aes(hmax, col = site)) +\n  geom_density() +\n  theme_bw() +\n  ylab(expression(h[max]))\ng2 &lt;- ggplot(taxo_hmax, aes(site, hmax, col = site)) +\n  geom_violin() +\n  geom_boxplot(width = .2) +\n  coord_flip() +\n  theme_bw() +\n  theme(\n    legend.position = \"none\",\n    axis.text.y = element_blank(),\n    axis.ticks.y = element_blank()\n  ) +\n  ylab(expression(h[max]))\ncowplot::plot_grid(g1, g2, nrow = 2)\n\n\n\n\n\nInferred species allometric parameters hmax per site."
  },
  {
    "objectID": "14_functional.html#all-raw",
    "href": "14_functional.html#all-raw",
    "title": "Functional",
    "section": "All raw",
    "text": "All raw\nWe assembled all traits data from TRY (Kattge et al. 2019), BIOMASS (Réjou-Méchain et al. 2017), and TALLO (Jucker et al. 2022), and obtained the following correlations:\n\n\nCode\ntaxo &lt;- read_tsv(\"outputs/taxonomy_v2.tsv\")\nwd &lt;- getWoodDensity(taxo$genus_cleaned, taxo$species_cleaned) %&gt;%\n  group_by(genus, species) %&gt;%\n  summarise(wd = mean(meanWD)) %&gt;%\n  na.omit() %&gt;%\n  rename(genus_cleaned = genus, species_cleaned = species)\nh &lt;- read_tsv(\"data/derived_data/tallo_pars.tsv\")\ntry &lt;- read_tsv(\"data/raw_data/37729/37729.txt\") %&gt;%\n  select(AccSpeciesName, TraitName, StdValue) %&gt;%\n  na.omit() %&gt;%\n  rename(scientific_cleaned = AccSpeciesName, trait = TraitName, value = StdValue) %&gt;%\n  group_by(scientific_cleaned, trait) %&gt;%\n  summarise(value = mean(value)) %&gt;%\n  mutate(trait = recode(trait,\n    \"Stem specific density (SSD, stem dry mass per stem fresh volume) or wood density\" = \"wd\", # nolint\n    \"Leaf area per leaf dry mass (specific leaf area, SLA or 1/LMA): undefined if petiole is in- or excluded\" = \"sla\", # nolint\n    \"Leaf nitrogen (N) content per leaf dry mass\" = \"n\",\n    \"Leaf area (in case of compound leaves undefined if leaf or leaflet, undefined if petiole is in- or excluded)\" = \"la\"\n  )) %&gt;%\n  pivot_wider(values_from = \"value\", names_from = \"trait\") %&gt;% \n  rename(wd_try = wd)\ntaxo_traits &lt;- left_join(taxo, wd) %&gt;%\n  left_join(h) %&gt;%\n  left_join(try)\ntaxo_traits %&gt;%\n  select(wd, wd_try, hmax, sla, la, n) %&gt;%\n  cor(use = \"pairwise.complete.obs\") %&gt;%\n  corrplot::corrplot(type = \"upper\", diag = FALSE)\n\n\n\n\n\nSpecies traits pairwise correlations."
  },
  {
    "objectID": "14_functional.html#all-imputed",
    "href": "14_functional.html#all-imputed",
    "title": "Functional",
    "section": "All imputed",
    "text": "All imputed\nWe used simple predictive mean matching (PMM) data imputation with mice to further impute missing trait values. We obtained the global PCA below showed globally and per site:\n\n\nCode\nlibrary(mice)\nimputation &lt;- taxo_traits %&gt;%\n  select(scientific_cleaned, wd, hmax, sla, la, n) %&gt;%\n  unique() %&gt;%\n  mice(maxit = 100)\ncomplete(imputation) %&gt;%\n  write_tsv(\"data/derived_data/imputed_traits.tsv\")\n\n\n\n\nCode\nimputed &lt;- read_tsv(\"data/derived_data/imputed_traits.tsv\")\nautoplot(\n  princomp(select(imputed, wd, hmax, sla, la, n) %&gt;%\n             mutate(sla = log(sla), la = log(la)), cor = TRUE),\n  data = imputed, alpha = 0.25, col = \"lightgrey\",\n  loadings.label.size = 6,\n  loadings.label.colour = \"red\", loadings.label.vjust = 1.1,\n  loadings.label.repel = TRUE,\n  loadings = TRUE, loadings.label = TRUE, loadings.colour = \"red\"\n) +\n  coord_equal() +\n  geom_hline(aes(yintercept = 0), col = \"black\", linetype = \"dotted\") +\n  geom_vline(aes(xintercept = 0), col = \"black\", linetype = \"dotted\") +\n  theme_bw() +\n  geom_density_2d_filled(alpha = .5) +\n  theme(legend.position = \"none\")\n\n\n\n\n\nImputed traits global principal component analysis.\n\n\n\n\n\n\nCode\ndata &lt;- taxo_traits %&gt;%\n  select(-wd, -ah, -hmax, -wd_try, -sla, -n, -la) %&gt;%\n  left_join(imputed) %&gt;%\n  select(site, scientific_cleaned, wd, hmax, sla, la, n) %&gt;%\n  unique() %&gt;%\n  na.omit()\nautoplot(\n  princomp(select(data, wd, hmax, sla, la, n) %&gt;%\n             mutate(sla = log(sla), la = log(la)), cor = TRUE),\n  data = data, alpha = 0.25\n) +\n  coord_equal() +\n  geom_hline(aes(yintercept = 0), col = \"black\", linetype = \"dotted\") +\n  geom_vline(aes(xintercept = 0), col = \"black\", linetype = \"dotted\") +\n  theme_bw() +\n  facet_wrap(~site) +\n  geom_density_2d_filled(alpha = .5) +\n  theme(legend.position = \"none\")\n\n\n\n\n\nImputed traits global principal component analysis per site."
  },
  {
    "objectID": "14_functional.html#traits-data",
    "href": "14_functional.html#traits-data",
    "title": "Functional",
    "section": "Traits data",
    "text": "Traits data\nAll traits data are saved in outputs/traits_v2.tsv with the following columns:\n\nscientific_cleaned: the cleaned scientific name for junction with the taxonomic data\ntrait: the trait acronym or code\ntrait_value_raw: the trait raw value\ntrait_value_imputed: the trait imputed value in case of missing raw value\ndefinition: the trait definition\nunit: the trait unit\n\n\n\nCode\nall_traits &lt;- taxo_traits %&gt;%\n  select(scientific_cleaned, wd, hmax, sla, la, n) %&gt;%\n  gather(trait, trait_value_raw, -scientific_cleaned) %&gt;%\n  filter(!is.na(scientific_cleaned)) %&gt;%\n  unique() %&gt;%\n  left_join(imputed %&gt;%\n              select(scientific_cleaned, wd, hmax, sla, la, n) %&gt;%\n              na.omit() %&gt;%\n              gather(trait, trait_value_imputed, -scientific_cleaned)) %&gt;%\n  mutate(trait = recode(trait, \"wd\" = \"WD\", \"sla\" = \"SLA\", 'la' = \"LA\", \"n\" = \"N\")) %&gt;%\n  mutate(definition = recode(trait,\n    \"WD\" = \"Stem specific wood density\",\n    \"SLA\" = \"Specific leaf area\",\n    \"LA\" = \"Leaf area\",\n    \"N\" = \"Leaf nitrogen content per leaf dry mass\",\n    \"hmax\" = \"Asymptotic height\"\n  )) %&gt;%\n  mutate(unit = recode(trait,\n    \"WD\" = \"g cm-3\",\n    \"SLA\" = \"mm2 mg-1\",\n    \"LA\" = \"mm2\",\n    \"N\" = \"mg g-1\",\n    \"hmax\" = \"m\"\n  ))\nwrite_tsv(all_traits, \"outputs/traits_v2.tsv\")\n\n\n\n\n\n\nJucker, Tommaso, Fabian Jörg Fischer, Jérôme Chave, David A. Coomes, John Caspersen, Arshad Ali, Grace Jopaul Loubota Panzou, et al. 2022. “Tallo: A Global Tree Allometry and Crown Architecture Database.” Global Change Biology 28 (17): 5254–68. https://doi.org/10.1111/gcb.16302.\n\n\nKattge, Jens, Gerhard Bönisch, Sandra Díaz, Sandra Lavorel, Iain Colin Prentice, Paul Leadley, Susanne Tautenhahn, et al. 2019. “TRY Plant Trait Database  Enhanced Coverage and Open Access.” Global Change Biology 26 (1): 119–88. https://doi.org/10.1111/gcb.14904.\n\n\nRéjou-Méchain, Maxime, Ariane Tanguy, Camille Piponiot, Jérôme Chave, and Bruno Hérault. 2017. “Biomass: An r Package for Estimating Above-Ground Biomass and Its Uncertainty in Tropical Forests.” Edited by Sarah Goslee. Methods in Ecology and Evolution 8 (9): 1163–67. https://doi.org/10.1111/2041-210x.12753."
  },
  {
    "objectID": "99_references.html",
    "href": "99_references.html",
    "title": "References",
    "section": "",
    "text": "Jucker, Tommaso, Fabian Jörg Fischer, Jérôme Chave, David A. Coomes,\nJohn Caspersen, Arshad Ali, Grace Jopaul Loubota Panzou, et al. 2022.\n“Tallo: A Global Tree Allometry and Crown Architecture\nDatabase.” Global Change Biology 28 (17): 5254–68. https://doi.org/10.1111/gcb.16302.\n\n\nKattge, Jens, Gerhard Bönisch, Sandra Díaz, Sandra Lavorel, Iain Colin\nPrentice, Paul Leadley, Susanne Tautenhahn, et al. 2019. “TRY\nPlant Trait Database  Enhanced Coverage and Open\nAccess.” Global Change Biology 26 (1): 119–88. https://doi.org/10.1111/gcb.14904.\n\n\nRéjou-Méchain, Maxime, Ariane Tanguy, Camille Piponiot, Jérôme Chave,\nand Bruno Hérault. 2017. “Biomass: An r Package for Estimating\nAbove-Ground Biomass and Its Uncertainty in Tropical\nForests.” Edited by Sarah Goslee. Methods in Ecology and\nEvolution 8 (9): 1163–67. https://doi.org/10.1111/2041-210x.12753."
  }
]